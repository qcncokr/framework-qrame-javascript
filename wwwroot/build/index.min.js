/* 2021-05-27 */
var getGlobal=function(){if(void 0!==globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;if(void 0!==this)return this;throw new Error("전역 객체를 찾을 수 없습니다")},agent="userAgent",isIE=!1,globalThis=getGlobal();globalThis.isNodejs=!1,globalThis.process&&"object"==typeof module?globalThis.isNodejs=!0:(agent=navigator.userAgent.toLowerCase(),isIE="Netscape"==navigator.appName&&-1!=agent.indexOf("trident")||-1!=agent.indexOf("msie"),window&&(1!=isIE||window.Promise||(!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function s(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(n,1)}}function n(){for(var e=0;e<y;e+=2){(0,x[e])(x[e+1]),x[e]=void 0,x[e+1]=void 0}y=0}function u(e,t){var n=this,r=new this.constructor(f);void 0===r[O]&&m(r);var o=n._state;if(o){var i=arguments[o-1];b(function(){return v(o,r,i,n._result)})}else l(n,r,e,t);return r}function c(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(f);return g(t,e),t}function f(){}function d(e,t,n){var r,o,i,a;t.constructor===e.constructor&&n===u&&t.constructor.resolve===c?(i=e,(a=t)._state===_?p(i,a._result):a._state===M?h(i,a._result):l(a,void 0,function(e){return g(i,e)},function(e){return h(i,e)})):void 0===n?p(e,t):s(n)?(r=t,o=n,b(function(t){var n=!1,e=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(o,r,function(e){n||(n=!0,r!==e?g(t,e):p(t,e))},function(e){n||(n=!0,h(t,e))},t._label);!n&&e&&(n=!0,h(t,e))},e)):p(e,t)}function g(t,e){if(t===e)h(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)p(t,e);else{var n=void 0;try{n=e.then}catch(e){return void h(t,e)}d(t,e,n)}var r,o}function r(e){e._onerror&&e._onerror(e._result),a(e)}function p(e,t){e._state===A&&(e._result=t,e._state=_,0!==e._subscribers.length&&b(a,e))}function h(e,t){e._state===A&&(e._state=M,e._result=t,b(r,e))}function l(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+_]=n,o[i+M]=r,0===i&&e._state&&b(a,e)}function a(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?v(n,r,o,i):o(i);e._subscribers.length=0}}function v(e,t,n,r){var o=s(n),i=void 0,a=void 0,l=!0;if(o){try{i=n(r)}catch(e){l=!1,a=e}if(t===i)return void h(t,new TypeError("A promises callback cannot return that same promise."))}else i=r;t._state!==A||(o&&l?g(t,i):!1===l?h(t,a):e===_?p(t,i):e===M&&h(t,i))}function m(e){e[O]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}var e,o,i,D,$=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},y=0,C=void 0,T=void 0,b=function(e,t){x[y]=e,x[y+1]=t,2===(y+=2)&&(T?T(n):L())},I="undefined"!=typeof window?window:void 0,S=I||{},w=S.MutationObserver||S.WebKitMutationObserver,E="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,x=new Array(1e3),L=void 0;L=E?function(){return process.nextTick(n)}:w?(o=0,i=new w(n),D=document.createTextNode(""),i.observe(D,{characterData:!0}),function(){D.data=o=++o%2}):q?((e=new MessageChannel).port1.onmessage=n,function(){return e.port2.postMessage(0)}):void 0===I&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return void 0!==(C=e.runOnLoop||e.runOnContext)?function(){C(n)}:t()}catch(e){return t()}}():t();var O=Math.random().toString(36).substring(2),A=void 0,_=1,M=2,F=0,R=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[O]||m(this.promise),$(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&p(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===c){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(e){a=!0,i=e}if(o===u&&t._state!==A)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===N){var l=new n(f);a?h(l,i):d(l,t,o),this._willSettleAt(l,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===A&&(this._remaining--,e===M?h(r,n):this._result[t]=n),0===this._remaining&&p(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;l(e,void 0,function(e){return n._settledAt(_,t,e)},function(e){return n._settledAt(M,t,e)})},e}(),N=function(){function t(e){this[O]=F++,this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){g(t,e)},function(e){h(t,e)})}catch(e){h(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return s(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return N.prototype.then=u,N.all=function(e){return new R(this,e).promise},N.race=function(o){var i=this;return new i($(o)?function(e,t){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(e,t)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=c,N.reject=function(e){var t=new this(f);return h(t,e),t},N._setScheduler=function(e){T=e},N._setAsap=function(e){b=e},N._asap=b,N.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=N},N.Promise=N}),ES6Promise.polyfill())));var qaf=qaf||function(){};globalThis.qaf=qaf;var baseCore=function(){};function purge(e){var t,n,r,o=e.attributes;if(o)for(t=o.length-1;0<=t;t-=1)"function"==typeof e[r=o[t].name]&&(e[r]=null);if(o=e.childNodes)for(n=o.length,t=0;t<n;t+=1)purge(e.childNodes[t])}if(baseCore.extend=function(e,t){var n=baseCore.prototype.extend;baseCore.prototyping=!0;var r=new this;n.call(r,e),r.base=function(){},delete baseCore.prototyping;var o=r.constructor,i=r.constructor=function(){if(!baseCore.prototyping)if(this.constructing||this.constructor==i)this.constructing=!0,o.apply(this,arguments),delete this.constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],r)};return i.ancestor=this,i.extend=this.extend,i.each=this.each,i.implement=this.implement,i.prototype=r,i.toString=this.toString,i.valueOf=function(e){return"object"==e?i:o.valueOf()},n.call(i,t),"function"==typeof i.init&&i.init(),i},baseCore.prototype={extend:function(e,t){if(1<arguments.length){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var r=t.valueOf();(t=function(){var e=this.base||baseCore.prototype.base;this.base=n;var t=r.apply(this,arguments);return this.base=e,t}).valueOf=function(e){return"object"==e?t:r},t.toString=baseCore.toString}this[e]=t}else if(e){var o=baseCore.prototype.extend;baseCore.prototyping||"function"==typeof this||(o=this.extend||o);for(var i={toSource:null},a=["constructor","toString","valueOf","concreate"],l=baseCore.prototyping?0:1;s=a[l++];)e[s]!=i[s]&&o.call(this,s,e[s]);for(var s in e)i[s]||o.call(this,s,e[s]);var u=e.concreate;u&&u(e)}return this}},baseCore=baseCore.extend({constructor:function(){this.extend(arguments[0])},concreate:function(){}},{ancestor:Object,version:"1.0",each:function(e,t,n){if(null!=t&&0!=t.length)for(var r in e)"object"==typeof e[r]&&t.apply(e[r],n)},implement:function(){for(var e=0,t=arguments.length;e<t;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),function(e){"use strict";var t=t||new baseCore;t.extend({version:"1.0",localeID:"ko-KR",add:function(e,t){return this[e]=t,this},remove:function(e){return this[e]=void 0,this}}),e.$resource=e.$res=qaf.$res=e.$resource||t}(globalThis),function(context){"use strict";var $reflection=$reflection||new baseCore;$reflection.extend({version:"1.0",getType:function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array||!(e instanceof Object)&&"[object Array]"==Object.prototype.toString.call(e)||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if(!(e instanceof Object||"[object Function]"!=Object.prototype.toString.call(e)&&(void 0===e.call||void 0===e.propertyIsEnumerable||e.propertyIsEnumerable("call"))))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},defaultValue:function(type,isPrimitive){if("string"!=typeof type)return"";if(isPrimitive&&1==isPrimitive){switch(type){case"boolean":return!1;case"function":return function(){};case"null":return null;case"number":return 0;case"object":return{};case"string":return"";case"symbol":return Symbol();case"undefined":return}try{var ctor="function"==typeof this[type]?this[type]:eval(type);return new ctor}catch(e){return{}}}else switch(type){case"bool":case"boolean":return!1;case"int":case"number":return 0;default:return""}},isDefined:function(e){return void 0!==e},isNull:function(e){return null===e},isArray:function(e){return"array"==this.getType(e)},isDate:function(e){var t=!1;try{if(null==e||""==e)t=!0;else if("string"==typeof e){if(1==e.includes("T"))t="function"==typeof e.parseISOString().getFullYear;else 1==$date.isDate(e)&&(t=!0)}}catch(e){}return t},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isFunction:function(e){return"function"==this.getType(e)},isObject:function(e){return"object"==typeof e},isObjectEmpty:function(e){if("object"==typeof e)for(var t in e)if(1==e.hasOwnProperty(t))return!1;return!0},isBoolean:function(e){return"boolean"==typeof e},isEmpty:function(e){return null==e||!(Object.keys(e)||e).length},clone:function(t,e){var r=null;if(null!=e&&null!=e||(e=!0),1==this.isArray(t))r=JSON.parse(JSON.stringify(t));else if(1==this.isObject(t)){if(t)if([Number,String,Boolean].forEach(function(e){t instanceof e&&(r=e(t))}),1==e&&"[object Array]"===Object.prototype.toString.call(t))r=[],t.forEach(function(e,t,n){r[t]=this.clone(e)});else if("object"==typeof t)if(t.nodeType&&"function"==typeof t.cloneNode)r=t.cloneNode(!0);else if(t.prototype)r=t.constructor?new t.constructor:t;else for(var n in r={},t)r[n]=this.clone(t[n]);else r=t;else r=t}else r=1==this.isFunction(t)?t.clone():t;return r},cloneNode:function(e){return e.cloneNode(!0)},method:function(e,t,n){return e.prototype[t]=n,this},extend:function(e,t,n){var r,o;for(r in t)(o=void 0!==e[r])&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?$ref.isDate(t[r])?n&&(e[r]=new Date(t[r].getTime())):$ref.isArray(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=$ref.extend({},t[r],n):!n&&o||(e[r]=t[r]);return e},getCommentObject:function(e){}}),context.$reflection=context.$ref=qaf.$reflection=context.$reflection||$reflection}(globalThis),function(e){"use strict";var t=t||new baseCore;t.extend({version:"1.0",base64Encode:function(e){return 1==isNodejs?Buffer.from(e).toString("base64"):btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}))},base64Decode:function(e){return 1==isNodejs?Buffer.from(e,"base64").toString():decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},utf8Encode:function(e){if("string"!=typeof e)throw new TypeError("parameter ‘unicodeString’ is not a string");return e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}).replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},utf8Decode:function(e){if("string"!=typeof e)throw new TypeError("parameter ‘utf8String’ is not a string");return e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})},encrypt:function(e,t){for(var n=[],r=t.length,o=0;o<e.length;o++){var i=o%r,a=e.charCodeAt(o)+t.charCodeAt(i);n.push(a)}return JSON.stringify(n)},decrypt:function(e,t){for(var n=[],r="",o=JSON.parse(e),i=t.length,a=0;a<o.length;a++){var l=a%i,s=o[a]-t.charCodeAt(l);n.push(s)}for(a=0;a<n.length;a++){r+=String.fromCharCode(n[a])}return r},LZString:function(){var m=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(e){return i(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return m(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(e){if(null==e)return a.decompress(e);for(var t=new Array(e.length/2),n=0,r=t.length;n<r;n++)t[n]=256*e[2*n]+e[2*n+1];var o=[];return t.forEach(function(e){o.push(m(e))}),a.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(e){return i(r,t.charAt(e))}))},compress:function(e){return a._compress(e,16,function(e){return m(e)})},_compress:function(e,t,n){if(null==e)return"";var r,o,i,a={},l={},s="",u="",c="",f=2,d=3,g=2,p=[],h=0,v=0;for(i=0;i<e.length;i+=1)if(s=e.charAt(i),Object.prototype.hasOwnProperty.call(a,s)||(a[s]=d++,l[s]=!0),u=c+s,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(r=0;r<g;r++)h<<=1,v==t-1?(v=0,p.push(n(h)),h=0):v++;for(o=c.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<g;r++)h=h<<1|o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}0==--f&&(f=Math.pow(2,g),g++),delete l[c]}else for(o=a[c],r=0;r<g;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1;0==--f&&(f=Math.pow(2,g),g++),a[u]=d++,c=String(s)}if(""!==c){if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(r=0;r<g;r++)h<<=1,v==t-1?(v=0,p.push(n(h)),h=0):v++;for(o=c.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<g;r++)h=h<<1|o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}0==--f&&(f=Math.pow(2,g),g++),delete l[c]}else for(o=a[c],r=0;r<g;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1;0==--f&&(f=Math.pow(2,g),g++)}for(o=2,r=0;r<g;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1;for(;;){if(h<<=1,v==t-1){p.push(n(h));break}v++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){var r,o,i,a,l,s,u,c=[],f=4,d=4,g=3,p="",h=[],v={val:n(0),position:t,index:1};for(r=0;r<3;r+=1)c[r]=r;for(i=0,l=Math.pow(2,2),s=1;s!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),i|=(0<a?1:0)*s,s<<=1;switch(i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),i|=(0<a?1:0)*s,s<<=1;u=m(i);break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),i|=(0<a?1:0)*s,s<<=1;u=m(i);break;case 2:return""}for(o=c[3]=u,h.push(u);;){if(v.index>e)return"";for(i=0,l=Math.pow(2,g),s=1;s!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),i|=(0<a?1:0)*s,s<<=1;switch(u=i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),i|=(0<a?1:0)*s,s<<=1;c[d++]=m(i),u=d-1,f--;break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),i|=(0<a?1:0)*s,s<<=1;c[d++]=m(i),u=d-1,f--;break;case 2:return h.join("")}if(0==f&&(f=Math.pow(2,g),g++),c[u])p=c[u];else{if(u!==d)return null;p=o+o.charAt(0)}h.push(p),c[d++]=o+p.charAt(0),o=p,0==--f&&(f=Math.pow(2,g),g++)}}};return a}()}),e.$crytography=e.$c=qaf.$c=e.$crytography||t}(globalThis),function(e){"use strict";var t=t||new baseCore;t.extend({version:"1.0",datas:[],append:function(e){this.datas.push(e)},appendFormat:function(e){var n=this.convertToArray(arguments).slice(1);this.datas[this.datas.length]=e.replace(/\{(\d+)\}/g,function(e,t){return n[t].toString()})},convertToArray:function(){if(!arguments)return[];if(arguments.toArray)return arguments.toArray();for(var e=arguments[0],t=e.length,n=new Array(t);t--;)n[t]=e[t];return n},clear:function(){this.datas=[]},toString:function(){return this.datas.join("")}}),e.$stringbuilder=e.$sb=qaf.$sb=e.$stringbuilder||t}(globalThis),function(e){"use strict";qaf.lib=qaf.lib||new baseCore;var l,D=D||new baseCore,t=t||new baseCore,h=h||new baseCore,n=n||new baseCore,r=r||new baseCore;l={current:0,getNew:function(){return this.current++,this.current}},0==isNodejs&&(HTMLElement.prototype.pseudoStyle=function(e,t,n){var r="pseudoStyles",o=document.head||document.getElementsByTagName("head")[0],i=document.getElementById(r)||document.createElement("style");i.id=r;var a="pseudoStyle"+l.getNew();return this.className+=" "+a,i.innerHTML+=" ."+a+":"+e+"{"+t+":"+n+"}",o.appendChild(i),this}),Function.prototype.clone||(Function.prototype.clone=function(){var e=this,t=function(){return e.apply(this,arguments)};for(var n in this)t[n]=this[n];return t}),Object.assign||(Object.assign=function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}),String.prototype.trim||(String.prototype.trim=function(){for(var e=this.replace(/^\s+/,""),t=e.length-1;0<t;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e}),String.prototype.includes||(String.prototype.includes=function(e){return-1!==this.indexOf(e)}),String.prototype.format||(String.prototype.format=function(){for(var e=this,t=0,n=arguments.length;t<n;t++){var r=new RegExp("{"+t.toString()+"+?}","g");e=e.replace(r,arguments[t])}return e}),String.prototype.parseISOString||(String.prototype.parseISOString=function(){var e=null;if(this&&1==this.includes("T")){var t=this.split(/\D+/);e=new Date(Date.UTC(t[0],--t[1],t[2],t[3],t[4],t[5],t[6]))}return e}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,l=Math.max(0<=a?a:r-Math.abs(a),0);l<r;){if((o=n[l])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;l++}return!1}}),Array.prototype.filter||(Array.prototype.filter=function(e,t){if("Function"!=typeof e&&"function"!=typeof e||!this)throw new TypeError;var n=this.length>>>0,r=new Array(n),o=this,i=0,a=-1;if(void 0===t)for(;++a!==n;)a in this&&e(o[a],a,o)&&(r[i++]=o[a]);else for(;++a!==n;)a in this&&e.call(t,o[a],a,o)&&(r[i++]=o[a]);return r.length=i,r}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),r=new Array(a),o=0;o<a;){var l,s;o in i&&(l=i[o],s=e.call(n,l,o,i),r[o]=s),o++}return r}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){var e,t=this;function n(e){return(e<10?"0":"")+e}return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+((e=t.getMilliseconds())<100?"0":"")+n(e)+"Z"}),1==isNodejs||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})),D.extend({version:"1.0",interval:{yyyy:{units:31536e6,measure:"year"},m:{units:2592e6,measure:"month"},d:{units:864e5,measure:"day"},q:{units:7776e6,measure:"quarter"},h:{units:36e5,measure:"hour"},n:{units:6e4,measure:"minute"},s:{units:1e3,measure:"second"}},minutes:6e4,toUTC:function(e){if("string"==typeof e){var t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(e);if(t)return new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6]))}return null},clear:function(e,t){return e.setYear(0),e.setMonth(0),e.setDate(0),!0===t&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),e},now:function(e){return new Date},clone:function(e){return new Date(e.getTime())},isBetween:function(e,t,n){return e.getTime()>=t.getTime()&&e.getTime()<=n.getTime()},equals:function(e,t){return e.toDateString()==(t||new Date).toDateString()},isToday:function(e){return D.equals(e,new Date)},toString:function(e,t){var n=e.getFullYear(),r=e.getMonth()+1,o=1==e.getDate().toString().length?"0"+e.getDate().toString():e.getDate().toString(),i=1==e.getHours().toString().length?"0"+e.getHours().toString():e.getHours().toString(),a=1==e.getMinutes().toString().length?"0"+e.getMinutes().toString():e.getMinutes().toString(),l=1==e.getSeconds().toString().length?"0"+e.getSeconds().toString():e.getSeconds().toString(),s=e.getMilliseconds().toString();return r=1==r.toString().length?"0"+r.toString():r.toString(),"d"==t?n.toString().concat("-",r,"-",o):"t"==t?i.toString().concat(":",a,":",l):"a"==t?n.toString().concat("-",r,"-",o," ",i,":",a,":",l):"f"==t?n.toString().concat(r,o,i,a,l,s):e.getDate()},addHour:function(e,t){return new Date(e.setTime(e.getTime()+60*t*60*1e3))},addDay:function(e,t){return new Date(e.setDate(e.getDate()+t))},addWeek:function(e,t){return new Date(e.setDate(e.getDate()+7*t))},addMonth:function(e,t){return new Date(e.setMonth(e.getMonth()+t))},addYear:function(e,t){return new Date(e.setFullYear(e.getFullYear()+t))},getFirstDate:function(e){return new Date(e.setDate(1))},getLastDate:function(e){return e=D.addMonth(e,1),D.addDay(new Date(e.setDate(1)),-1)},diff:function(e,t,n){1==$ref.isString(t)&&(t=new Date(t)),1==$ref.isString(n)&&(n=new Date(n));var r=this.toString(t,"d").split("-"),o=r[0],i=r[1]-1,a=r[2],l=this.toString(n,"d").split("-"),s=l[0],u=l[1]-1,c=l[2],f=new Date(o,i,a);f.setHours(0),f.setMinutes(0),f.setSeconds(0);var d=f.getTime(),g=new Date(s,u,c);g.setHours(0),g.setMinutes(0),g.setSeconds(0);var p=g.getTime(),h=null;if(h=f<g?(g.getTimezoneOffset()-f.getTimezoneOffset())*D.minutes:(f.getTimezoneOffset()-g.getTimezoneOffset())*D.minutes,void 0!==D.interval[e]){var v=Math.ceil(p-d)-h,m=Math.floor(v/D.interval[e].units);return parseInt(m)}return-1},toTicks:function(e){return 1e4*e.getTime()+621355968e9},isDate:function(e){var t=!1,n=null;if("NaN"==(n=new Date(e)).toString()||"Invalid Date"==n.toString())if(1==$b.isSafari&&0==$b.isChrome){var r=e.match(/(\d+)/g);t="NaN"!=(n=new Date(r[0],r[1]-1,r[2])).toString()&&"Invalid Date"!=n.toString()}else t=!1;else t=!0;return t},isISOString:function(e){var t=new Date(e);return!Number.isNaN(t.valueOf())&&t.toISOString()===e}}),e.$date=qaf.lib.$date=D,h.extend({version:"1.0",toDate:function(e){return new Date((e-621355968e9)/1e4)},br:function(e){return e.replace(/(\r\n|\r|\n)/g,"<br />")},isBusinessNo:function(e){var t=!1,n=e.replace(/-/gi,"").split("").map(function(e){return parseInt(e,10)});if(10===n.length)try{for(var r=[1,3,7,1,3,7,1,3,5],o=0,i=0;i<r.length;++i)o+=r[i]*n[i];o+=parseInt(r[8]*n[8]/10,10),t=Math.floor(n[9])===(10-o%10)%10}catch(e){t=!1}return t},isNullOrEmpty:function(e){return null==e||""===e},sanitizeHTML:function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML},toHtmlChar:function(e){return e.replace(/&/g,"&amp;").replace(/\'/g,"&quot;").replace(/\'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},toCharHtml:function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,"'").replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")},toAscii:function(e){return e.trim().replace(/[^0-9a-zA-Z\value]/g,"")},isAscii:function(e){return/^[\x00-\x7F]*$/.test(e)},length:function(e){for(var t=0,n=0,r=e.length;n<r;n++)127<e.charCodeAt(n)?t+=2:t++;return t},substring:function(e,t){var n=0;null!=t&&null!=t||(t=e.length);for(var r=0;r<e.length;r++)if(127<e.charCodeAt(r)?n+=2:n+=1,t<n)return e.substring(0,r);return e},split:function(e,t){for(var n=[];0<e.length;){var r=h.substring(e,t);if(!r)break;n.push(r),e=e.replace(r,"")}return n},isNumber:function(e,t){if(e=String(e).replace(/^\s+|\s+$/g,""),void 0===t||"1"==t)var n=/^[+\-]?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+){1}(\.[0-9]+)?$/g;else if("2"==t)n=/^(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+){1}(\.[0-9]+)?$/g;else if("3"==t)n=/^[0-9]+(\.[0-9]+)?$/g;else n=/^[0-9]$/g;return!!n.test(e)&&(e=e.replace(/,/g,""),!isNaN(e))},capitalize:function(e){return e.replace(/\b([a-z])/g,function(e){return e.toUpperCase()})},toJSON:function(e,t){var n,r,o=(t=t||{}).delimeter||",",i=t.newline||"\n",a=t.meta||{},l=e.split(RegExp("{0}".format(i),"g")),s=l[0].split(o);for(n=0;n<s.length;n++)s[n]=s[n].replace(/(^[\s"]+|[\s"]+$)/g,"");var u=[],c=l.length,f=s.length;if(1==$ref.isEmpty(a))for(n=1;n<c;n++){r=l[n].split(o);for(var d={},g=0;g<f;g++)d[s[g]]=h.toDynamic(r[g]);u.push(d)}else for(n=1;n<c;n++){r=l[n].split(o);for(d={},g=0;g<f;g++){var p=s[g];d[p]=h.toParseType(r[g],a[p])}u.push(d)}return u},toParameterObject:function(e){return(e.match(/([^?:;]+)(:([^;]*))/g)||[]).reduce(function(e,t){return e[t.slice(0,t.indexOf(":")).replace("@","")]=t.slice(t.indexOf(":")+1),e},{})},toNumber:function(e){var t=0;try{t=parseFloat(0===(null==e||null==e?0:e)||""===e?"0":e.toString().replace(/,/g,""))}catch(e){console.log(e)}return t},toBoolean:function(e){return"true"===e||"True"===e||"TRUE"===e||"Y"===e||"1"==e},toDynamic:function(e,t){return null==t&&(t=!1),1==t&&""===e?null:"true"===e||"True"===e||"TRUE"===e||"false"!==e&&"False"!==e&&"FALSE"!==e&&($validation.regexs.float.test(e)?h.toNumber(e):$validation.regexs.isoDate.test(e)?new Date(e):e)},toParseType:function(e,t,n){var r;if(null==n&&(n=!1),1==n&&""===e)r=null;else switch(t){case"string":r=e;break;case"bool":r=h.toBoolean(e);break;case"number":case"int":r=null==e||null==e?null:1==h.isNumber(e)?h.toNumber(e):null;break;case"date":$validation.regexs.isoDate.test(e)&&(r=new Date(e));break;default:r=e}return r},toNumberString:function(e){return e.replace(/,/g,"")},toCurrency:function(e,t,n){var r=null;if(0==qaf.lib.$string.isNumber(e))return r;if(null==t||null==t){for(var o=e.toString().split("."),i=o[0],a=1<o.length?"."+o[1]:"",l=/(\d+)(\d{3})/;l.test(i);)i=i.replace(l,"$1,$2");r=i+a}else{var s=$w.argumentsExtend({style:"currency",currency:"KRW"},n);r=Intl.NumberFormat(t,s).format(e)}return r},digits:function(e,t,n){n=n||"0";var r="";if(this.length<t)for(var o=0;o<t-e.length;o++)r+=n;return r+e},toClipboard:function(e){if(1==isNodejs);else{var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}}}),e.$string=qaf.lib.$string=h,t.extend({version:"1.0",distinct:function(e){for(var t=[],n=0,r=e.length;n<r;n++)0==this.contains(t,e[n])&&t.push(e[n]);return t},sort:function(e,t){var n=null;if(t&&(t=!0),1==t)for(var r=0,o=e.length;r<o;r++)for(var i=0,a=e.length;i<a;i++)e[r]<e[i]&&(n=e[r],e[r]=e[i],e[i]=n);else for(r=0,o=e.length;r<o;r++)for(i=0,a=e.length;i<a;i++)e[r]>e[i]&&(n=e[r],e[r]=e[i],e[i]=n);n=null},objectSort:function(e,o,t){null!=t&&null!=t||(t=!0),1==t?e.sort(function(e,t){var n=e[o],r=t[o];return n<r?-1:r<n?1:0}):e.sort(function(e,t){var n=e[o],r=t[o];return n<r?1:r<n?-1:0})},shuffle:function(e){for(var t,n=e.length,r=null;n--;)t=Math.floor((n+1)*Math.random()),r=e[n],e[n]=e[t],e[t]=r},lastIndexOf:function(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1},clear:function(e){e.length=0},add:function(e,t){e.push(t)},addAt:function(e,t,n){e.length-1<=t&&e.splice(t,0,n)},remove:function(e){e.pop()},removeAt:function(e,t){t<=e.length-1&&e.splice(t,1)},removeID:function(e,t,n){var r=e.find(function(e){return e[t]==n}),o=e.indexOf(r);-1<o&&e.splice(o,1)},contains:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1},addProp:function(e,t,n){e.push({prop:t,val:n})},union:function(e,t){for(var n=[],r={},o=0;o<e.length;o++)r[e[o]]=1;for(o=0;o<t.length;o++)r[t[o]]=1;for(var i in r)n.push(i);return n},difference:function(e,t){return e.filter(function(e){return!t.includes(e)})},intersection:function(e,t){return e.filter(function(e){return t.includes(e)})},symmetryDifference:function(t,n){return t.filter(function(e){return!n.includes(e)}).concat(n.filter(function(e){return!t.includes(e)}))},getValue:function(e,t,n,r,o){var i=null;if(e&&0<e.length){var a=null;i=(a=r?e.find(function(e){return e[r]==t}):e.find(function(e){return e.ParameterName==t}))?o?a[o]:a.Value:void 0===n?"":n}return i}}),e.$array=qaf.lib.$array=t,n.extend({version:"1.0",duration:function(e){e<0&&(e=-e);var t={year:0,week:0,day:Math.floor(e/864e5),hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return 365<t.day&&(t.year=t.day%365,t.day=Math.floor(t.day/365)),7<t.day&&(t.week=t.day%7,t.day=Math.floor(t.day/7)),t},toByte:function(e,t,n){void 0===t&&(t=3),void 0===n&&(n=!0);var r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(Math.abs(e)<1)return e+(n?" ":"")+r[0];var o=Math.min(Math.floor(Math.log10(e<0?-e:e)/3),r.length-1);return(e<0?"-":"")+Number(((e<0?-e:e)/Math.pow(1024,o)).toPrecision(t))+(n?" ":"")+r[o]},isRange:function(e,t,n){return t<=e&&e<=n},limit:function(e,t,n){return e<t?t:n<e?n:e},limitAbove:function(e,t){return Math.min(t,e)},limitBelow:function(e,t){return Math.max(t,this)},mod:function(e,t){return 0<=e?e%t:(e%t+Math.abs(t))%t},percent:function(e,t,n){n=n||0;var r=Math.pow(10,n);return Math.round(100*e/t*r)/r}}),e.$number=qaf.lib.$number=n,r.extend({version:"1.0",toCSV:function(e,t){if("object"!=typeof e)return null;var n=(t=t||{}).scopechar||"/",r=t.delimeter||",",o=t.newline||"\n";!1===Array.isArray(e)&&(e=[e]);var i,a,l,s,u,c=[],f=[],d={},g=[];for(l=0;l<e.length;l++){for(u=[e[l],""],f[l]={};0<u.length;)if(a=u.pop(),null!==(i=u.pop())&&"object"==typeof i)for(s in i)i.hasOwnProperty(s)&&(u.push(i[s]),u.push(a+(a?n:"")+s));else void 0===d[a]&&(d[a]=!0),f[l][a]=i;c[l]=[]}for(s in d)if(d.hasOwnProperty(s))for(g.push(s),l=0;l<e.length;l++)c[l].push(void 0===f[l][s]?"":f[l][s]);for(l=0;l<e.length;l++)c[l]=c[l].join(r);return g.join(r)+o+c.join(o)},toParameterString:function(e){return e?Object.entries(e).reduce(function(e,t,n){var r=t[0],o=t[1];return-1==r.indexOf("@")&&(e+="string"==typeof o?"@"+r+":"+o+";":""),e},""):""}}),e.$object=qaf.lib.$object=r}(globalThis),function(f){"use strict";var t=t||new baseCore,d=null;1==isNodejs||(d=window.document,function(){if("function"!=typeof f.CustomEvent){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=d.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=f.Event.prototype,f.CustomEvent=e}var o;f.events={items:o=[],add:function(e,t,n){o.push(arguments)},remove:function(e,t,n){var r=o.indexOf(arguments);-1<r&&delete o[r]},flush:function(){var e,t;for(e=o.length-1;0<=e;e-=1)(t=o[e])[0].removeEventListener&&t[0].removeEventListener(t[1],t[2],t[3]),"on"!=t[1].substring(0,2)&&(t[1]="on"+t[1]),t[0].detachEvent&&t[0].detachEvent(t[1],t[2]),t[0][t[1]]=null;purge(d.body)}}}()),t.extend({version:"1.0",prefixs:["webkit","moz","ms","o",""],eventMap:{},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},uuid:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},stringToArrayBuffer:function(e,t){var n=1;t&&!0===t&&(n=2);for(var r=new ArrayBuffer(e.length*n),o=new Uint8Array(r),i=0,a=e.length;i<a;i++)o[i]=e.charCodeAt(i);return r},arrayBufferToString:function(e){var t=new Uint8Array(e),n=String.fromCharCode.apply(null,t);return decodeURIComponent(n)},random:function(e){e=e||8;for(var t="";t.length<e;)t+=Math.random().toString(36).substr(2);return t.substr(0,e)},execPrefixFunc:function(e,t){for(var n,r,o=$l.prefixs,i=0;i<o.length&&!e[n];){if(n=t,""==o[i]&&(n=n.substr(0,1).toLowerCase()+n.substr(1)),"undefined"!=(r=typeof e[n=o[i]+n]))return o=[o[i]],"function"==r?e[n]():e[n];i++}},dispatchClick:function(e,t){try{e=1==$ref.isString(e)?$l.get(e):e,t=$w.argumentsExtend({canBubble:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},t);var n=d.createEvent("MouseEvents");n.initMouseEvent("click",t.canBubble,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),e.dispatchEvent(n)}catch(e){$l.eventLog("$l.dispatchClick",e,"Warning")}},addEvent:function(e,t,n){e=1==$ref.isString(e)?$l.get(e):e,n&&1==$reflection.isFunction(n)&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=e["e"+t+n],events.add(e,t,n),1==$reflection.isString(t)&&"resize"===t.toLowerCase()&&n())},addLive:function(r,e,o){return t.addEvent(f||d,e,function(e){for(var t,n=e.target||e.srcElement;n&&!(t=n.id==r.id);)n=n.parentElement;t&&o.call(n,e)}),r},removeEvent:function(e,t,n){n&&1==$reflection.isFunction(n)&&((e=1==$ref.isString(e)?$l.get(e):e).removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null,events.remove(e,t,n))},hasEvent:function(e,t){var n=null,r=!1;e=1==$ref.isString(e)?$l.get(e):e;for(var o=0,i=events.items.length;o<i;o++)if((n=events.items[o])&&n[0]instanceof f.constructor||n[0]instanceof d.constructor){if(n[1]==t){r=!0;break}}else if(n&&n[0].id&&n[0].id==e.id&&n[1]==t){r=!0;break}return r},trigger:function(e,t,n){var r=null,o=null;e=1==$ref.isString(e)?$l.get(e):e;for(var i=0,a=events.items.length;i<a;i++)if((r=events.items[i])[0]instanceof f.constructor||r[0]instanceof d.constructor){if(r[1]==t){o=r[2];break}}else if(r[0].id&&r[0].id==e.id&&r[1]==t){o=r[2];break}return o&&(n?o.call(e,n):o.call(e)),this},triggerEvent:function(e,t,n){if(e=1==$ref.isString(e)?$l.get(e):e,f.CustomEvent)n?e.dispatchEvent(new CustomEvent(t,{detail:n})):e.dispatchEvent(new CustomEvent(t));else if(d.createEvent){(r=d.createEvent("HTMLEvents")).initEvent(t,!1,!0),n?e.dispatchEvent(r,n):e.dispatchEvent(r)}else if(e.fireEvent){var r;(r=d.createEventObject()).eventType=t,n?e.fireEvent("on"+r.eventType,n):e.fireEvent("on"+r.eventType)}return e},addBind:function(e,t,n){if(n&&1==$reflection.isFunction(n))for(var r=d.querySelectorAll(e),o=r.length,i=0;i<o;i++){var a=r[i];$l.addEvent(a,t,n)}},createEventHub:function(){return{hub:Object.create(null),emit:function(e,t){(this.hub[e]||[]).forEach(function(e){return e(t)})},on:function(e,t){this.hub[e]||(this.hub[e]=[]),this.hub[e].push(t)},off:function(e,t){var n=(this.hub[e]||[]).findIndex(function(e){return e===t});-1<n&&this.hub[e].splice(n,1),0===this.hub[e].length&&delete this.hub[e]}}},get:function(){for(var e=[],t=null,n="",r=0,o=arguments.length;r<o;r++)n=arguments[r],1==$reflection.isString(n)&&(t=d.getElementById(n)),e.push(t);return 1==e.length?t:e},querySelector:function(){for(var e=[],t=null,n="",r=0,o=arguments.length;r<o;r++)"string"==typeof(n=arguments[r])&&(t=d.querySelector(n)),e.push(t);return 1==e.length?t:e},getName:function(){for(var e=[],t=[],n="",r=0,o=arguments.length;r<o;r++)for(var i in"string"==typeof(n=arguments[r])&&(t=d.getElementsByTagName(n)),t)"object"==typeof t[i]&&e.push(t[i]);return 1==e.length?t:e},querySelectorAll:function(){for(var e=[],t=[],n="",r=0,o=arguments.length;r<o;r++)for(var i in"string"==typeof(n=arguments[r])&&(t=d.querySelectorAll(n)),t)"object"==typeof t[i]&&e.push(t[i]);return n=null,1==e.length?t:e},getElementsById:function(){for(var e=[],t=null,n="",r=0;r<arguments.length;r++){if("string"==typeof(n=arguments[r])&&(t=d.getElementById(n)),1==arguments.length)return t;e.push(t)}return e},getElementsByClassName:function(){for(var e=[],t=null,n="",r=0;r<arguments.length;r++){if("string"==typeof(n=arguments[r])&&(t=d.getElementsByClassName(n)),1==arguments.length)return t;for(r=0;r<t.length;r++)e.push(t[r])}return e},getElementsByTagName:function(){for(var e=[],t=[],n="",r=0;r<arguments.length;r++){if("string"==typeof(n=arguments[r])&&(t=d.getElementsByTagName(n)),1==arguments.length)return t;for(var o in t)"object"==typeof t[o]&&e.push(t[o])}return e},clone:function(e){function t(){}return t.prototype=e,new t},method:function(e,t,n){return e.prototype[t]=n,this},toEnumText:function(e,t){var n=null;for(var r in e)if(e[r]==t){n=r;break}return n},prettyJSON:function(e,t){return!0===t?("string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})):JSON.stringify(e,null,2)},prettyTSD:function(e,t){var n=null;t=null!=t&&t;try{var r=e.split("＾");if(1<r.length){var o=$string.toParameterObject(r[0]);n=$string.toJSON(r[1],{delimeter:"｜",newline:"↵",meta:o})}else n=$string.toJSON(r[0],{delimeter:"｜",newline:"↵"})}catch(e){n=e}return 1==t?n:$l.prettyJSON(n)},text2Json:function(e,t,n){null==t&&(t=","),null==n&&(n="\n");var o=e.slice(0,e.indexOf(n)).split(t);return e.slice(e.indexOf(n)+1).split(n).map(function(e){var r=e.split(t);return o.reduce(function(e,t,n){return e[t]=r[n],e},{})})},json2Text:function(e,t,r,n){function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}return r==r&&(r=","),null==n&&(n="\n"),[t.join(r)].concat((i=e.map(function(n){return t.reduce(function(e,t){return"".concat(e).concat(e.length?r:"",'"').concat(n[t]?n[t]:"",'"')},"")}),function(e){if(Array.isArray(e))return o(e)}(i)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(i)||function(){throw new TypeError("유효하지 않은 데이터 타입")}())).join(n);var i},nested2Flat:function(e,t,n,r){var o=[];if(e){null!=r&&null!=r||(r="items");var i=$ref.clone(e,!1);delete i[r],i[n]=null,o.push(i),$l.parseNested2Flat(e,o,t,n,r)}else $l.eventLog("$l.nested2Flat","필수 데이터 확인 필요","Warning");return o},parseNested2Flat:function(e,t,n,r,o){var i=e[o];if(e&&i){null!=o&&null!=o||(o="items");for(var a=0;a<i.length;a++){var l=i[a],s=$ref.clone(l,!1);delete s[o],s[r]=e[n],t.push(s),l[o]&&0<l[o].length&&$l.parseNested2Flat(l,t,n,r,o)}}return null},flat2Nested:function(e,t,n,r){var o=null;if(e&&t&&n){null!=r&&null!=r||(r="items");var i=e.find(function(e){return null==e[n]}),a=$l.parseFlat2Nested(e,i,[],t,n,r);i[r]=a[r],o=i}else $l.eventLog("$l.flat2Nested","필수 데이터 확인 필요","Warning");return o},parseFlat2Nested:function(e,t,n,r,o,i){null!=i&&null!=i||(i="items");var a=e.filter(function(e){return e[o]==t[r]});if(0<a.length){n[i]||(n[i]=[]);for(var l=0;l<a.length;l++)n[i].push($ref.clone(a[l])),$l.parseFlat2Nested(e,a[l],n[i][l],r,o,i)}return n},findNestedByID:function(e,t,n,r){var o=null,i=e[r];if(e&&i){if(null!=r&&null!=r||(r="items"),e[n]==t)return o=e;for(var a=0;a<i.length;a++){var l=i[a];if(l[n]==t)return o=l;if(l[r]&&0<l[r].length&&(o=$l.findNestedByID(l,t,n,r)))return o}}return o},extend:function(e,t){if(arguments[2])for(var n=2,r=arguments.length;n<r;n++)e.prototype[arguments[n]]=t.prototype[arguments[n]];else for(var o in t.prototype)e.prototype[o]||(e.prototype[o]=t.prototype[o]);return this},logLevel:new function(){this.Verbose=0,this.Debug=1,this.Information=2,this.Warning=3,this.Error=4,this.Fatal=5},start:(new Date).getTime(),eventLogTimer:null,eventLogCount:0,eventLog:function(e,t,n){var r="object"==typeof t?t.message:t,o="object"==typeof t?t.stack:t;if(n?1==qaf.$reflection.isString(n)&&(n=$l.logLevel[n]):n=0,!(qaf.Config&&qaf.Config.UIEventLogLevel&&$l.logLevel[qaf.Config.UIEventLogLevel]>n)){var i,a,l,s=$l.toEnumText($l.logLevel,n),u=(new Date).getTime()-$l.start;if(1==isNodejs)switch(i=$l.eventLogCount.toString()+"@"+(u/1e3).toString().format("0.000")+" ["+e+"] "+(r===o?r:o),s){case"Debug":globalThis.$logger.debug(i);break;case"Information":globalThis.$logger.info(i);break;case"Warning":globalThis.$logger.warn(i);break;case"Error":globalThis.$logger.error(i);break;case"Fatal":globalThis.$logger.fatal(i);break;default:globalThis.$logger.trace(i)}else{if(i=$l.eventLogCount.toString()+"@"+(u/1e3).toString().format("0.000")+" ["+s+"] ["+e+"] "+(r===o?r:o),f.console)console.log(i);else{a=d.createElement("DIV"),l=d.createTextNode(i),a.appendChild(l);var c=d.getElementById("eventlogs");c?(c.appendChild(a),clearTimeout($l.eventLogTimer),$l.eventLogTimer=setTimeout(function(){c.scrollTop=c.scrollHeight},10)):d.body.appendChild(a)}f.bound&&bound.browserEvent("browser",{ID:"EventLog",Data:i},function(e,t){e&&console.log("browser EventLog - {0}".format(e))})}$l.eventLogCount++}},moduleEventLog:function(e,t,n,r){var o="object"==typeof n?n.message:n,i="object"==typeof n?n.stack:n;if(r?1==qaf.$reflection.isString(r)&&(r=$l.logLevel[r]):r=0,!(qaf.Config&&qaf.Config.UIEventLogLevel&&$l.logLevel[qaf.Config.UIEventLogLevel]>r)){var a,l=$l.toEnumText($l.logLevel,r),s=(new Date).getTime()-$l.start;a=$l.eventLogCount.toString()+"@"+(s/1e3).toString().format("0.000")+" ["+t+"] "+(o===i?o:i);var u=qaf.getModuleLibrary(e);if(u){var c=u.logger;switch(l){case"Debug":c.debug(a);break;case"Information":c.info(a);break;case"Warning":c.warn(a);break;case"Error":c.error(a);break;case"Fatal":c.fatal(a);break;default:c.trace(a)}}else console.log("ModuleID 확인 필요 - {0}".format(e));$l.eventLogCount++}}}),f.$library=f.$l=qaf.$l=f.$library||t,1==isNodejs?(delete $l.addEvent,delete $l.addLive,delete $l.removeEvent,delete $l.hasEvent,delete $l.trigger,delete $l.triggerEvent,delete $l.addBind,delete $l.get,delete $l.querySelector,delete $l.getName,delete $l.querySelectorAll,delete $l.getElementsById,delete $l.getElementsByClassName,delete $l.getElementsByTagName):(delete $l.moduleEventLog,f.onevent=$l.addEvent,f.bind=$l.addBind,f.trigger=$l.trigger,$l.addEvent(f,"unload",events.flush))}(globalThis),function(context){"use strict";var $webform=$webform||new baseCore,document=null;if(1==isNodejs||($webform.context=context,$webform.document=context.document,document=context.document),$webform.extend({version:"1.0",localeID:"ko-KR",isPageLoad:!1,transactionLoaderID:null,pageReadyTimeout:6e4,eventAddReady:1==isNodejs?null:new CustomEvent("addready"),eventRemoveReady:1==isNodejs?null:new CustomEvent("removeready"),mappingModule:!0,moduleReadyIntervalID:null,remainingReadyIntervalID:null,remainingReadyCount:0,defaultControlOptions:{value:"",text:"",dataType:"string",bindingID:"",resourceKey:"",localeID:"ko-KR",required:!1,tooltip:""},initializeFormScript:function(e){$l.get("moduleScript")&&$w.extend({pageScript:$l.get("moduleScript").value});var t=context[$w.pageScript]||new baseCore;if(e)for(var n in t.extend(e),t.store={},context[$w.pageScript]=t,context.$this=t,qaf.uicontrols)t[n]=qaf.uicontrols[n];else $l.eventLog("$w.initializeFormScript","화면 초기화 오류, module 객체가 없음","Information")},setStorage:function(e,t,n,r){if(null!=n&&null!=n||(n=!1),1==isNodejs)if(1==n)localStorage.setItem(e,JSON.stringify(t));else{null!=r&&null!=r||(r=12e5);var o={value:t,expiry:(new Date).getTime()+r,ttl:r};localStorage.setItem(e,JSON.stringify(o))}else 1==n?localStorage.setItem(e,JSON.stringify(t)):sessionStorage.setItem(e,JSON.stringify(t));return this},getStorage:function(e,t){var n=null;if(null!=t&&null!=t||(t=!1),1==isNodejs)if(1==t)localStorage.getItem(e);else{var r=localStorage.getItem(e);if(!r)return null;var o=JSON.parse(r);if((new Date).getTime()>o.expiry)return localStorage.removeItem(e),null;n=o.value;var i=o.ttl;o={value:n,expiry:(new Date).getTime()+i,ttl:i};localStorage.setItem(e,JSON.stringify(o))}else n=1==t?JSON.parse(localStorage.getItem(e)):JSON.parse(sessionStorage.getItem(e));return n},removeStorage:function(e,t){null!=t&&null!=t||(t=!1),1==isNodejs?localStorage.removeItem(e):1==t?localStorage.removeItem(e):sessionStorage.removeItem(e)},storageLength:function(e){return null!=e&&null!=e||(e=!1),1==isNodejs?localStorage.length:1==e?localStorage.length:sessionStorage.length},storageKey:function(e,t){return null!=t&&null!=t||(t=!1),1==isNodejs?localStorage.key(e):1==t?localStorage.key(e):sessionStorage.key(e)},createBlob:function(t,n){try{return new Blob([t],{type:n})}catch(e){var r=new(globalThis.BlobBuilder||globalThis.WebKitBlobBuilder||globalThis.MozBlobBuilder||globalThis.MSBlobBuilder);return r.append(t.buffer||t),r.getBlob(n)}},dataUriToBlob:function(e){var t=null;try{for(var n=$c.base64Decode(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(n.length),i=new Uint8Array(o),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);t=new Blob([o],{type:r})}catch(e){$l.eventLog("$w.dataUriToBlob",e,"Warning")}return t},dataUriToText:function(e){var t=null;try{t={value:$c.base64Decode(e.split(",")[1]),mime:e.split(",")[0].split(":")[1].split(";")[0]}}catch(e){$l.eventLog("$w.dataUriToText",e,"Warning")}return t},innerHTML:function(e,t){var n=(e=1==$ref.isString(e)?$l.get(e):e).cloneNode(!1);n.innerHTML=t,e.parentNode.replaceChild(n,e)},innerText:function(e,t){var n=(e=1==$ref.isString(e)?$l.get(e):e).cloneNode(!1);n.innerText=t,e.parentNode.replaceChild(n,e)},activeControl:function(){var e=null,t=event||context.event;return $this&&(e=t?t&&t.target||t.srcElement||$this.focusControl||document.activeElement:$this.focusControl||document.activeElement),e},hasAutoFocus:function(){return"autofocus"in document.createElement("input")},createTouchEvent:function(e,t){var n=document.createEvent("MouseEvents");return n.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n},contentLoaded:function(){for(var name in $l.addEvent(document,"addready",function(){$w.remainingReadyCount++}),$l.addEvent(document,"removeready",function(){$w.remainingReadyCount--}),$l.eventMap)$l.addEvent(document.body,name,function(e){var t=$l.eventMap,n=$w.createTouchEvent(t[e.type],e);e.target.dispatchEvent(n);var r=e.target["on"+t[e.type]];"function"==typeof r&&r(e)});if($l.get("moduleScript"))$w.extend({pageScript:$l.get("moduleScript").value});else{var pathname=location.pathname;if(0<pathname.split("/").length){var filename=pathname.split("/")[location.pathname.split("/").length-1];$w.extend({pageScript:"$"+(-1<filename.indexOf(".")?filename.substring(0,filename.indexOf(".")):filename)})}var input=document.createElement("input");if(input.id="moduleScript",input.type="text",input.style.display="none",input.value=$w.pageScript,document.body.appendChild(input),document.forms)for(var i=0;i<document.forms.length;i++)$l.addEvent(document.forms[i],"submit",function(e){var t=!1,n=e.target||e.srcElement;if($this&&$this.frameEvent&&(null!=(t=$this.frameEvent("beforeSubmit",{el:n,evt:e}))&&null!=t&&0!=$string.toBoolean(t)||(t=!1)),0==t)return e.returnValue=!1,e.cancel=!0,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1})}var pageLoad=function(){var D=context[$w.pageScript];D&&D.pageLoad&&D.pageLoad(),context.domainPageLoad&&domainPageLoad(),setTimeout(function(){if(D&&D.qafControls&&(null==D.tabOrderControls||null==D.tabOrderControls||0==D.tabOrderControls.length)){var e=[],t=document.body.outerHTML.match(/<(qaf_).+?>/gi);if(t)for(var n=t.length,r=0;r<n;r++){var o=t[r],i=o.substring(1,o.indexOf(" ")).toUpperCase();e.push(i)}e=$array.distinct(e);for(var a=document.querySelectorAll("input,select,textarea,button"+(0<e.length?","+e.join(","):"")),l=[],s=a.length,u=0;u<s;u++){if((f=a[u])&&f.style&&"none"==f.style.display||"hidden"==f.type){if(!f.id||"SELECT"!=f.tagName.toUpperCase()||null==f.getAttribute("qaf-datafield")&&null==f.getAttribute("qaf-datafield"))continue;l.push(f)}else f.id&&0==f.id.includes("btn_qafeditor_")&&0==f.id.includes("chk_qafgrid_")&&0==f.id.includes("_hidden")?l.push(f):!f.id||"SELECT"!=f.tagName.toUpperCase()||null==f.getAttribute("qaf-datafield")&&null==f.getAttribute("qaf-datafield")?f.id&&1==f.tagName.includes("QAF_")&&l.push(f):l.push(f)}var c=[];r=0;s=l.length;for(u=0;u<s;u++){var f;if((f=l[u]).id&&0==f.id.includes("btn_qafeditor_")&&0==f.id.includes("chk_qafgrid_")&&0==f.id.includes("_hidden")){var d=f.id,g=$d.offset(f),p=f.getAttribute("baseID");p&&(d=p),(v=D.qafControls.find(function(e){return e.id==d}))&&("datepicker"==v.type?g=$d.offset(f.parentElement):"colorpicker"==v.type&&(g=$d.offset(f.parentElement.parentElement)),c.push({elID:f.id,tagName:f.tagName,formID:v.formDataFieldID,type:v.type,top:g.top,left:g.left}))}else if(!f.id||"SELECT"!=f.tagName.toUpperCase()||null==f.getAttribute("qaf-datafield")&&null==f.getAttribute("qaf-datafield")){if(f.id&&1==f.tagName.includes("QAF_")){d=f.id.replace("_hidden",""),g=null;if("QAF_DATEPICKER"==f.tagName||f.tagName,g)(v=D.qafControls.find(function(e){return e.id==d}))&&c.push({elID:d,tagName:f.tagName,formID:v.formDataFieldID,type:v.type,top:g.top,left:g.left})}}else{var h,v,g=null;if(!1===f.getAttribute("multiple"))(h=D.$select.getControl(f.id))&&(g=$d.offset(h.picker.select));else(h=D.$multiselect.getControl(f.id))&&(g=$d.offset(h.picker.select));if(g)(v=D.qafControls.find(function(e){return e.id==f.id}))&&c.push({elID:f.id,tagName:f.tagName,formID:v.formDataFieldID,type:v.type,top:g.top,left:g.left})}r+=1}D.focusControl=null,D.tabOrderFocusID=null,D.tabOrderControls=c,D&&D.frameEvent&&D.frameEvent("tabOrderControls",D.tabOrderControls),0<D.tabOrderControls.length&&(D.mappingModel?(1==$string.isNullOrEmpty(D.mappingModel.TapOrderFlow)&&(D.mappingModel.TapOrderFlow="html"),"tdlr"==D.mappingModel.TapOrderFlow?D.tabOrderControls.sort(function(e,t){return e.top===t.top?e.left-t.left:e.top>t.top?1:-1}):"lrtd"==D.mappingModel.TapOrderFlow&&D.tabOrderControls.sort(function(e,t){return e.left===t.left?e.top-t.top:e.left>t.left?1:-1})):D.tabOrderControls.sort(function(e,t){return e.top===t.top?e.left-t.left:e.top>t.top?1:-1}));var m=$l.querySelector("[autofocus]");if(m&&m.id&&m.tagName){i=m.tagName.toUpperCase();-1<"input,select,textarea,button".toUpperCase().split(",").indexOf(i)?(D.focusControl=m,D.tabOrderFocusID=m.id,setTimeout(function(){m.focus()})):i.indexOf("qaf_")}}})},pageFormInit=function(){for(var qafControlList=[],qafControls=document.querySelectorAll("[qaf-datafield],[qaf-options],[qaf-events]"),i=0;i<qafControls.length;i++){var qafControl=qafControls[i];if(qafControl.tagName){var tagName=qafControl.tagName.toUpperCase(),dataField=qafControl.getAttribute("qaf-datafield"),elementID=qafControl.getAttribute("id"),formDataField=qafControl.closest("form")?qafControl.closest("form").getAttribute("qaf-datafield"):"",controlType="",controlOptions=qafControl.getAttribute("qaf-options")||null;if(null!=controlOptions)try{controlOptions=eval("("+controlOptions+")")}catch(e){$l.eventLog("$w.contentLoaded",'elID: "{0}" qaf-options 확인 필요 '.format(elementID)+e.message,"Warning")}else controlOptions={};var controlModule=null;if(-1<tagName.indexOf("QAF_")){var moduleName=tagName.substring(4).toLowerCase();controlModule=qaf.uicontrols["$"+moduleName],controlType=moduleName}else switch(tagName){case"BUTTON":controlModule=qaf.uicontrols.$button,controlType="button";break;case"INPUT":switch(controlType=qafControl.getAttribute("type").toLowerCase(),controlType){case"hidden":case"text":case"password":case"color":case"email":case"number":case"search":case"tel":case"url":controlModule=qaf.uicontrols.$textbox;break;case"submit":case"reset":case"button":controlModule=qaf.uicontrols.$button;break;case"radio":controlModule=qaf.uicontrols.$radio;break;case"checkbox":controlModule=qaf.uicontrols.$checkbox}break;case"TEXTAREA":controlModule=qaf.uicontrols.$textarea,controlType="textarea";break;case"SELECT":null==qafControl.getAttribute("multiple")?(controlModule=qaf.uicontrols.$select,controlType="select"):(controlModule=qaf.uicontrols.$multiselect,controlType="multiselect")}$l.addEvent(qafControl.id,"focus",function(e){$this.focusControl=e.target||e.currentTarget||e.srcElement,$this.focusControl?$this.tabOrderFocusID=$this.focusControl.id:$this.tabOrderFocusID=null}),controlModule?(controlModule.addModuleList&&controlModule.addModuleList(qafControl,qafControlList,controlOptions,controlType),controlModule.controlLoad(elementID,controlOptions)):(elementID&&qafControlList.push({id:elementID,formDataFieldID:formDataField,field:dataField,module:null,type:controlType||qafControl.tagName.toLowerCase()}),$this&&$this.controlLoad&&$this.controlLoad(elementID,controlOptions))}}for(var qafEventControls=document.querySelectorAll("[qaf-events]"),i=0;i<qafEventControls.length;i++){var qafControl=qafEventControls[i],events=null;try{events=eval("("+qafControl.getAttribute("qaf-events")+")")}catch(e){$l.eventLog("$w.contentLoaded",'elID: "{0}" qaf-events 확인 필요 '.format(qafControl.id)+e.message,"Warning")}if(events)for(var length=events.length,j=0;j<length;j++){var event=events[j],func=$this[qafControl.id+"_"+event];func&&$l.addEvent(qafControl.id,event,func)}}for(var qafOptionControls=document.querySelectorAll("[qaf-options]"),i=0;i<qafOptionControls.length;i++){var qafControl=qafOptionControls[i],elID=qafControl.id.replace("_hidden",""),options=null;try{var el=$l.get(qafControl.id+"_hidden")||$l.get(qafControl.id);options=eval("("+el.getAttribute("qaf-options")+")")}catch(e){$l.eventLog("$w.contentLoaded",'elID: "{0}" qaf-options 확인 필요'.format(qafControl.id)+e.message,"Warning")}if(options&&options.transactConfig&&options.transactConfig.triggerEvent)if(1==qaf.$reflection.isString(options.transactConfig.triggerEvent))$l.addEvent(elID,options.transactConfig.triggerEvent,function(transactConfig){var el=this;if(!transactConfig||null!=transactConfig.triggerEvent&&null!=transactConfig.triggerEvent){var options=eval("("+el.getAttribute("qaf-options")+")");options&&options.transactConfig&&(transactConfig=options.transactConfig)}else{var options=eval("("+el.getAttribute("qaf-options")+")");transactConfig=options.transactConfig}transactConfig&&$w.transactionAction(transactConfig)});else if(1==qaf.$reflection.isArray(options.transactConfig.triggerEvent)){var triggerFunction=function(transactConfig){var el=this;if(!transactConfig||null!=transactConfig.triggerEvent&&null!=transactConfig.triggerEvent){var options=eval("("+el.getAttribute("qaf-options")+")");options&&options.transactConfig&&(transactConfig=options.transactConfig)}else{var options=eval("("+el.getAttribute("qaf-options")+")");transactConfig=options.transactConfig}transactConfig&&$w.transactionAction(transactConfig)};for(var key in options.transactConfig.triggerEvent){var eventName=options.transactConfig.triggerEvent[key];$l.addEvent(elID,eventName,triggerFunction)}}if(options&&options.triggerConfig&&options.triggerConfig.triggerEvent)if(1==qaf.$reflection.isString(options.triggerConfig.triggerEvent))$l.addEvent(elID,options.triggerConfig.triggerEvent,function(triggerConfig){var el=this;if(!triggerConfig||null!=triggerConfig.triggerEvent&&null!=triggerConfig.triggerEvent){var options=eval("("+el.getAttribute("qaf-options")+")");options&&options.triggerConfig&&(triggerConfig=options.triggerConfig)}else{var options=eval("("+el.getAttribute("qaf-options")+")");triggerConfig=options.triggerConfig}triggerConfig&&$w.triggerAction(triggerConfig)});else if(1==qaf.$reflection.isArray(options.triggerConfig.triggerEvent)){var triggerFunction=function(triggerConfig){var el=this;if(!triggerConfig||null!=triggerConfig.triggerEvent&&null!=triggerConfig.triggerEvent){var options=eval("("+el.getAttribute("qaf-options")+")");options&&options.triggerConfig&&(triggerConfig=options.triggerConfig)}else{var options=eval("("+el.getAttribute("qaf-options")+")");triggerConfig=options.triggerConfig}triggerConfig&&$w.triggerAction(triggerConfig)};for(var key in options.triggerConfig.triggerEvent){var eventName=options.triggerConfig.triggerEvent[key];$l.addEvent(elID,eventName,triggerFunction)}}}var elem=document.createElement("input");elem.type="hidden",elem.id="qafControlList",elem.textContent=JSON.stringify(qafControlList),document.body.appendChild(elem),"none"==document.body.style.display&&(document.body.style.display="block");var mod=context[$w.pageScript];mod?mod.qafControls=qafControlList:context.qafControls=qafControlList,$w.remainingReadyIntervalID=setInterval(function(){0==$w.remainingReadyCount&&(clearInterval($w.remainingReadyIntervalID),$w.remainingReadyIntervalID=null,pageLoad(),$w.isPageLoad=!0)},25),setTimeout(function(){null!=$w.remainingReadyIntervalID&&($w.remainingReadyCount=0)},$w.pageReadyTimeout)};1==$w.mappingModule?($w.moduleReadyIntervalID=setInterval(function(){var e=context[$w.pageScript];if(e)if(clearInterval($w.moduleReadyIntervalID),$w.moduleReadyIntervalID=null,context.domainLibraryLoad&&domainLibraryLoad(),$w.appInfo&&$w.appInfo.mappingModel){var t="true"==$r.getCookie("qaf.iscache")?"":"?bust="+(new Date).getTime(),n=$w.pageScript.replace("$","")+".json";context.moduleJsonFile&&(n=context.moduleJsonFile),$w.loadJSON(n+t,e,function(e,t){e.mappingModel=t},pageFormInit,!0)}else pageFormInit()},50),setTimeout(function(){null!=$w.moduleReadyIntervalID&&(clearInterval($w.moduleReadyIntervalID),$w.moduleReadyIntervalID=null,$l.eventLog("$w.contentLoaded",'"{0}" 모듈 확인 필요'.format($w.pageScript),"Error"))},$w.pageReadyTimeout)):(pageLoad(),$w.isPageLoad=!0)},addReadyCount:function(){$w.eventAddReady&&0==$w.isPageLoad&&document.dispatchEvent($w.eventAddReady)},removeReadyCount:function(){$w.eventRemoveReady&&0==$w.isPageLoad&&document.dispatchEvent($w.eventRemoveReady)},createSelection:function(e,t,n){if((e=1==$ref.isString(e)?$l.get(e):e).createTextRange){var r=n-t,o=e.createTextRange();o.collapse(!0),o.moveStart("character",t),o.moveEnd("character",r),o.select(),o=r=null}else e.setSelectionRange&&e.setSelectionRange(t,n);e.focus()},argumentsExtend:function(){var e={};for(var t in arguments){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},loadJSON:function(e,t,n,r,o,i){null!=o&&null!=o||(o=!0),null!=i&&null!=i||(i=!1);var a=new XMLHttpRequest;!0===o?(a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?(n&&n(t,JSON.parse(a.responseText)),r&&r()):$l.eventLog("$w.loadJSON","async url: "+e+", status: "+a.status.toString()+", responseText: "+a.responseText,"Error"),200!==a.status&&r&&1==i&&r())},a.open("GET",e,!0),a.send()):(a.open("GET",e,!1),a.send(),200===a.status?(n&&n(t,JSON.parse(a.responseText)),r&&r()):$l.eventLog("$w.loadJSON","sync url: "+e+", status: "+a.status.toString()+", responseText: "+a.responseText,"Error"),r&&1==i&&r())},getTriggerOptions:function(e){return e=1==$ref.isString(e)?$l.get(e):e,JSON.parse(e.getAttribute("triggerOptions"))},triggerAction:function(e){if($this){var t=!0;if(e.params=$w.argumentsExtend({args:[],options:{}},e.params),$this.beforeTrigger&&(t=$this.beforeTrigger(e.triggerID,e.action,e.params)),null==t||null==t||1==t){var n=$l.get(e.triggerID),r=null,o=null;if(-1<e.action.indexOf("$")){o=$this;var i=e.action.split(".");if(0<i.length)for(var a=0;a<i.length;a++){var l=i[a];o=o?o[l]:context[l]}else o=context[e.action]}else o=$this[e.triggerID+"_"+e.action];o?(n.setAttribute("triggerOptions",JSON.stringify(e.params.options)),-1<e.action.indexOf("$")&&$array.addAt(e.params.args,0,e.triggerID),r=o.apply(n,e.params.args),$this.afterTrigger&&$this.afterTrigger(null,e.action,{elID:e.triggerID,result:r})):$this.afterTrigger&&$this.afterTrigger("{0} trigger 확인 필요".format(e.action),e.action,null)}else $this.afterTrigger&&$this.afterTrigger("beforeTrigger continue false",e.action,null)}},transactionAction:function(transactConfig){if($this&&$this.mappingModel){$w.progressMessage&&$w.progressMessage($res.progress);try{null!=$this.mappingModel.Transactions&&null!=$this.mappingModel.Transactions||($this.mappingModel.Transactions=[]);var isContinue=!0;if($this.beforeTransaction&&(isContinue=$this.beforeTransaction(transactConfig)),null==isContinue||null==isContinue||1==isContinue){for(var transactions=$this.mappingModel.Transactions,i=0;i<transactions.length;i++)if(transactConfig.functionID==transactions[i].FunctionID){transactions.splice(i,1);break}var qafControlList=$this.qafControls,transactionObject={};if(transactionObject.FunctionID=transactConfig.functionID,transactionObject.Inputs=[],transactionObject.Outputs=[],transactConfig.inputs)for(var inputs=transactConfig.inputs,inputsLength=inputs.length,i=0;i<inputsLength;i++){var inputConfig=inputs[i],input={RequestType:inputConfig.type,DataFieldID:inputConfig.dataFieldID?inputConfig.dataFieldID:0<document.forms.length?document.forms[0].getAttribute("qaf-datafield"):"",Items:{}},qafControlConfigs=null;if("Row"==inputConfig.type){var qafControlConfigs=qafControlList.filter(function(e){return e.formDataFieldID==input.DataFieldID&&-1==["grid","chart","chartjs"].indexOf(e.type)});if(qafControlConfigs&&0<qafControlConfigs.length)for(var k=0;k<qafControlConfigs.length;k++){var qafControlConfig=qafControlConfigs[k],el=$l.get(qafControlConfig.id+"_hidden")||$l.get(qafControlConfig.id),options=el.getAttribute("qaf-options");if(null!=options){var qafOptions=null;try{qafOptions=JSON.parse(options)}catch(e){qafOptions=eval("("+options+")")}if(null!=qafOptions&&""!=qafControlConfig.field){var isBelong=!1;qafOptions.belongID&&(1==qaf.$reflection.isString(qafOptions.belongID)?isBelong=transactConfig.functionID==qafOptions.belongID:1==qaf.$reflection.isArray(qafOptions.belongID)&&(isBelong=-1<qafOptions.belongID.indexOf(transactConfig.functionID))),1==isBelong&&(input.Items[qafControlConfig.field]={FieldID:qafControlConfig.field,DataType:qafOptions.dataType})}}}else{var qafControlConfigs=qafControlList.filter(function(e){return e.field==input.DataFieldID&&"grid"==e.type});if(qafControlConfigs&&0<qafControlConfigs.length)for(var k=0;k<qafControlConfigs.length;k++){var qafControlConfig=qafControlConfigs[k],el=$l.get(qafControlConfig.id+"_hidden")||$l.get(qafControlConfig.id),qafOptions=JSON.parse(el.getAttribute("qaf-options"));if(null!=qafOptions)for(var l=0;l<qafOptions.columns.length;l++){var column=qafOptions.columns[l],dataType="string";switch(column.columnType){case"checkbox":dataType="bool";break;case"numeric":dataType="int"}var isBelong=!1;"Flag"==column.data?isBelong=!0:column.belongID&&(1==qaf.$reflection.isString(column.belongID)?isBelong=transactConfig.functionID==column.belongID:1==qaf.$reflection.isArray(column.belongID)&&(isBelong=-1<column.belongID.indexOf(transactConfig.functionID))),1==isBelong&&(input.Items[column.data]={FieldID:column.data,DataType:dataType})}}else if($this.$data&&0<$this.$data.storeList.length)for(var k=0;k<$this.$data.storeList.length;k++){var store=$this.$data.storeList[k];if("Form"==store.storeType&&store.dataSourceID==input.DataFieldID){for(var l=0;l<store.columns.length;l++){var column=store.columns[l],isBelong=!1;1==qaf.$reflection.isString(column.belongID)?isBelong=transactConfig.functionID==column.belongID:1==qaf.$reflection.isArray(column.belongID)&&(isBelong=-1<column.belongID.indexOf(transactConfig.functionID)),1==isBelong&&(input.Items[column.data]={FieldID:column.data,DataType:column.dataType})}break}}}}else if("List"==inputConfig.type){var qafControlConfigs=qafControlList.filter(function(e){return e.field==input.DataFieldID&&"grid"==e.type});if(qafControlConfigs&&1==qafControlConfigs.length){var qafControlConfig=qafControlConfigs[0],el=$l.get(qafControlConfig.id+"_hidden")||$l.get(qafControlConfig.id),qafOptions=JSON.parse(el.getAttribute("qaf-options"));if(null==qafOptions)continue;for(var k=0;k<qafOptions.columns.length;k++){var column=qafOptions.columns[k],dataType="string";switch(column.columnType){case"checkbox":dataType="bool";break;case"numeric":dataType="int"}var isBelong=!1;"Flag"==column.data?isBelong=!0:column.belongID&&(1==qaf.$reflection.isString(column.belongID)?isBelong=transactConfig.functionID==column.belongID:1==qaf.$reflection.isArray(column.belongID)&&(isBelong=-1<column.belongID.indexOf(transactConfig.functionID))),1==isBelong&&(input.Items[column.data]={FieldID:column.data,DataType:dataType})}}else{var isMapping=!1;if($this.$data&&0<$this.$data.storeList.length)for(var k=0;k<$this.$data.storeList.length;k++){var store=$this.$data.storeList[k];if("Grid"==store.storeType&&store.dataSourceID==input.DataFieldID){isMapping=!0;for(var l=0;l<store.columns.length;l++){var column=store.columns[l],isBelong=!1;1==qaf.$reflection.isString(column.belongID)?isBelong=transactConfig.functionID==column.belongID:1==qaf.$reflection.isArray(column.belongID)&&(isBelong=-1<column.belongID.indexOf(transactConfig.functionID)),1==isBelong&&(input.Items[column.data]={FieldID:column.data,DataType:column.dataType})}break}}0==isMapping&&$l.eventLog("$w.transactionAction","{0} 컬럼 ID 중복 또는 존재여부 확인 필요".format(input.DataFieldID),"Warning")}}transactionObject.Inputs.push(input)}if(transactConfig.outputs)for(var outputs=transactConfig.outputs,outputsLength=outputs.length,qafControls=$this.qafControls,i=0;i<outputsLength;i++){var outputConfig=outputs[i],output={ResponseType:outputConfig.type,DataFieldID:outputConfig.dataFieldID?outputConfig.dataFieldID:"",Items:{}},qafControlConfigs=null;if("Form"==outputConfig.type){var qafControlConfigs=qafControlList.filter(function(e){return e.formDataFieldID==output.DataFieldID&&-1==["grid","chart","chartjs"].indexOf(e.type)});if(qafControlConfigs&&0<qafControlConfigs.length)for(var k=0;k<qafControlConfigs.length;k++){var qafControlConfig=qafControlConfigs[k],el=$l.get(qafControlConfig.id+"_hidden")||$l.get(qafControlConfig.id),options=el.getAttribute("qaf-options");if(null!=options){var qafOptions=null;try{qafOptions=JSON.parse(options)}catch(e){qafOptions=eval("("+options+")")}if(null!=qafOptions&&""!=qafControlConfig.field&&(output.Items[qafControlConfig.field]={FieldID:qafControlConfig.field,DataType:qafOptions.dataType},1==outputConfig.clear&&qafControls&&1==qafControls.length)){var bindingControlInfos=qafControls.filter(function(e){return e.field==outputConfig.dataFieldID});if(1==bindingControlInfos.length){var controlInfo=bindingControlInfos[0];if(null==controlInfo.module)continue;var controlID=controlInfo.id,controlField=controlInfo.field,controlModule=null,currings=controlInfo.module.split(".");if(0<currings.length)for(var l=0;l<currings.length;l++){var curring=currings[l];controlModule=controlModule?controlModule[curring]:context[curring]}else controlModule=context[controlInfo.module];controlModule.clear&&controlModule.clear(controlID)}else $l.eventLog("$w.transactionAction","{0} DataFieldID 중복 또는 존재여부 확인 필요".format(outputConfig.dataFieldID),"Warning")}}}else if($this.$data&&0<$this.$data.storeList.length)for(var k=0;k<$this.$data.storeList.length;k++){var store=$this.$data.storeList[k];if("Form"==store.storeType&&store.dataSourceID==output.DataFieldID){for(var l=0;l<store.columns.length;l++){var column=store.columns[l];output.Items[column.data]={FieldID:column.data,DataType:column.dataType}}break}}}else if("Grid"==outputConfig.type){var qafControlConfigs=qafControlList.filter(function(e){return e.field==output.DataFieldID&&"grid"==e.type});if(qafControlConfigs&&1==qafControlConfigs.length){var qafControlConfig=qafControlConfigs[0],el=$l.get(qafControlConfig.id+"_hidden")||$l.get(qafControlConfig.id),qafOptions=JSON.parse(el.getAttribute("qaf-options"));if(null==qafOptions)continue;for(var k=0;k<qafOptions.columns.length;k++){var column=qafOptions.columns[k],dataType="string";switch(column.type){case"checkbox":dataType="bool";break;case"numeric":dataType="int"}output.Items[column.data]={FieldID:column.data,DataType:dataType}}if(1==outputConfig.clear&&qafControls&&0<qafControls.length){var bindingControlInfos=qafControls.filter(function(e){return e.field==output.DataFieldID}),controlInfo=bindingControlInfos[0],controlModule=null,currings=controlInfo.module.split(".");if(0<currings.length)for(var i=0;i<currings.length;i++){var curring=currings[i];controlModule=controlModule?controlModule[curring]:context[curring]}else controlModule=context[controlInfo.module];controlModule.clear&&controlModule.clear(controlInfo.id)}}else if(qafControlConfigs=qafControlList.filter(function(e){return e.field==output.DataFieldID&&-1<["chart","chartjs"].indexOf(e.type)}),qafControlConfigs&&1==qafControlConfigs.length){var qafControlConfig=qafControlConfigs[0],el=$l.get(qafControlConfig.id+"_hidden")||$l.get(qafControlConfig.id),qafOptions=JSON.parse(el.getAttribute("qaf-options"));if(null==qafOptions)continue;for(var k=0;k<qafOptions.series.length;k++){var column=qafOptions.series[k];output.Items[column.columnID]={FieldID:column.columnID,DataType:column.dataType?column.dataType:"string"}}if(1==outputConfig.clear&&qafControls&&1==qafControls.length){var bindingControlInfos=qafControls.filter(function(e){return e.field==outputConfig.dataFieldID});if(1==bindingControlInfos.length){var controlInfo=bindingControlInfos[0];if(null==controlInfo.module)continue;var controlID=controlInfo.id,controlField=controlInfo.field,controlModule=null,currings=controlInfo.module.split(".");if(0<currings.length)for(var l=0;l<currings.length;l++){var curring=currings[l];controlModule=controlModule?controlModule[curring]:context[curring]}else controlModule=context[controlInfo.module];controlModule.clear&&controlModule.clear(controlID)}}}else{var isMapping=!1;if($this.$data&&0<$this.$data.storeList.length)for(var k=0;k<$this.$data.storeList.length;k++){var store=$this.$data.storeList[k];if("Grid"==store.storeType&&store.dataSourceID==output.DataFieldID){isMapping=!0;for(var l=0;l<store.columns.length;l++){var column=store.columns[l];output.Items[column.data]={FieldID:column.data,DataType:column.dataType}}break}}0==isMapping&&$l.eventLog("$w.transactionAction","{0} DataFieldID 중복 또는 존재여부 확인 필요".format(output.DataFieldID),"Warning")}}transactionObject.Outputs.push(output)}$this.mappingModel.Transactions.push(transactionObject),$w.transaction(transactConfig.functionID,function(t,n){var r=null;t&&0<t.ErrorText.length&&(r=t.ErrorText[0],$l.eventLog("$w.transaction.callback",r,"Error"));var e=null;transactConfig.callback&&1==$ref.isFunction(transactConfig.callback)&&(e=transactConfig.callback(r,t,n)),null==e||!0===e?$this.afterTransaction&&$this.afterTransaction(null,transactConfig.functionID,t,n):!1===e&&$this.afterTransaction&&$this.afterTransaction("callbackResult continue false",transactConfig.functionID,null,null),transactConfig.callback&&1==$ref.isArray(transactConfig.callback)&&setTimeout(function(){var e={error:r,responseObject:t,addtionalData:n};$l.trigger(transactConfig.callback[0],transactConfig.callback[1],e)})},transactConfig.triggerMessage)}else $w.closeProgressMessage&&$w.closeProgressMessage(),$this.afterTransaction&&$this.afterTransaction("beforeTransaction continue false",transactConfig.functionID,null,null)}catch(e){$l.eventLog("$w.transactionAction",e,"Error"),$w.closeProgressMessage&&$w.closeProgressMessage()}}},transactionDirect:function(e,n){e.TransactionResult=null==e.TransactionResult||null==e.TransactionResult||!0===e.TransactionResult;var t=$w.transactionObject(e.FunctionID,"Json");t.ProgramID=e.ProgramID,t.BusinessID=e.BusinessID,t.SystemID=e.SystemID,t.TransactionID=e.TransactionID,t.DataTransactionInterface=e.DataTransactionInterface||"Row|Form",t.TransactionResult=null==e.TransactionResult||null==e.TransactionResult||!0===e.TransactionResult,1==isNodejs?t.ScreenID=e.ScreenID||e.TransactionID:t.ScreenID=$w.pageScript.replace("$",""),t.Inputs.push(e.InputObjects),t.InputsItemCount.push(1),$w.executeTransaction(e,t,function(e,t){n&&n(e,t)})},transaction:function(t,q,e){try{$w.domainTransactionLoaderStart&&$w.domainTransactionLoaderStart(),e&&$w.progressMessage&&$w.progressMessage(e);var x={ErrorText:[],OutputStat:[]};if($this&&$this.mappingModel&&$this.mappingModel.Transactions){var n=$this.mappingModel.Transactions.filter(function(e){return e.FunctionID==t});if(1==n.length){var L=n[0],r=$w.transactionObject(L.FunctionID,"Json");r.ProgramID=$this.mappingModel.ProgramID,r.BusinessID=$this.mappingModel.BusinessID,r.SystemID=$this.mappingModel.SystemID,r.TransactionID=$this.mappingModel.TransactionID,r.ScreenID=$w.pageScript.replace("$","");for(var o=context[$w.pageScript].qafControls,i=L.Inputs.length,a=0;a<i;a++){var l=L.Inputs[a],s=[];if("Row"==l.RequestType){if(1==(I=o.filter(function(e){return e.field==l.DataFieldID})).length){var u=I[0];if(-1<["grid","chart"].indexOf(u.type)){var c=l.DataFieldID,f="";if(o&&0<o.length)if(1==(I=o.filter(function(e){return e.field==c})).length){u=I[0];var d=null;if(0<(S=u.module.split(".")).length)for(var g=0;g<S.length;g++){var p=S[g];d=d?d[p]:context[p]}else d=context[u.module];for(var h=$l.get(u.id+"_hidden")||$l.get(u.id),v=JSON.parse(h.getAttribute("qaf-options")),m=0;m<v.columns.length;m++){if((w=v.columns[m]).validators&&$validation.transactionValidate)if(w.controlText=v.controlText||"",0==$validation.transactionValidate(d,u,w,l.RequestType))return $this.afterTransaction&&$this.afterTransaction("validators continue false",t,w,null),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd(),!1}s=d.getValue(u.id,"Row",l.Items)[0]}else $l.eventLog("$w.transaction",'"{0}" Row List Input Mapping 확인 필요'.format(c),"Warning")}else for(var D in l.Items){var $=l.Items[D],y=(c=D,$.FieldID),C=$.DataType,T={prop:y,val:""};f="";if(0<o.length)if(1==(I=o.filter(function(e){return e.field==c&&e.formDataFieldID==l.DataFieldID})).length){u=I[0],d=null;if(0<(S=u.module.split(".")).length)for(g=0;g<S.length;g++){p=S[g];d=d?d[p]:context[p]}else d=context[u.module];h=$l.get(u.id+"_hidden")||$l.get(u.id);if((v=JSON.parse(h.getAttribute("qaf-options"))).validators&&$validation.transactionValidate)if(0==$validation.transactionValidate(d,u,v,l.RequestType))return $this.afterTransaction&&$this.afterTransaction("validators continue false",t,v,null),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd(),!1;(f=d.getValue(u.id,$))||"int"!=C||(f=0)}else $l.eventLog("$w.transaction",'"{0}" Row Control Input Mapping 확인 필요'.format(c),"Warning");T.val=f,s.push(T)}}else if($this.$data&&0<$this.$data.storeList.length)for(var D in l.Items){var b=!1;for($=l.Items[D],c=D,y=$.FieldID,C=$.DataType,T={prop:y,val:""},f="",m=0;m<$this.$data.storeList.length;m++){if("Form"==(E=$this.$data.storeList[m]).storeType&&E.dataSourceID==l.DataFieldID){if(b=!0,1==(I=E.columns.filter(function(e){return e.data==c})).length){u=I[0];(f=$this.store[E.dataSourceID][u.data])||"int"!=C||(f=0),null!=f&&null!=f||(f="")}else $l.eventLog("$w.transaction",'"{0}" Row Input Mapping 확인 필요'.format(c),"Warning");break}}1==b?(T.val=f,s.push(T)):$l.eventLog("$w.transaction","{0} Row 컨트롤 ID 중복 또는 존재여부 확인 필요".format(l.DataFieldID),"Warning")}r.Inputs.push(s),r.InputsItemCount.push(1)}else if("List"==l.RequestType){var I;c=l.DataFieldID,f="";if(o&&0<o.length)if(1==(I=o.filter(function(e){return e.field==c})).length){var S;u=I[0],d=null;if(0<(S=u.module.split(".")).length)for(g=0;g<S.length;g++){p=S[g];d=d?d[p]:context[p]}else d=context[u.module];for(h=$l.get(u.id+"_hidden")||$l.get(u.id),v=JSON.parse(h.getAttribute("qaf-options")),m=0;m<v.columns.length;m++){var w;if((w=v.columns[m]).controlText=v.controlText||"",w.validators&&$validation.transactionValidate)if(0==$validation.transactionValidate(d,u,w,l.RequestType))return $this.afterTransaction&&$this.afterTransaction("validators continue false",t,w,null),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd(),!1}s=d.getValue(u.id,"List",l.Items)}else{b=!1;if($this.$data&&0<$this.$data.storeList.length)for(m=0;m<$this.$data.storeList.length;m++){var E;if("Grid"==(E=$this.$data.storeList[m]).storeType&&E.dataSourceID==c){b=!0;var O=$this.$data.bindingList.find(function(e){return e.dataSourceID==E.dataSourceID&&"grid"==e.controlType});if(O)s=$this.store[E.dataSourceID][O.dataFieldID];else{f=[];var A=$this.store[E.dataSourceID],_=A.length;for(g=0;g<_;g++){var M=A[g],F=[];for(var D in M){T={prop:D,val:M[D]};F.push(T)}f.push(F)}s=f}break}}0==b&&$l.eventLog("$w.transaction",'"{0}" List Input Mapping 확인 필요'.format(c),"Warning")}for(var D in s)r.Inputs.push(s[D]);r.InputsItemCount.push(s.length)}}$w.executeTransaction($this.mappingModel,r,function(e,t){for(var n="",r=!1,o=0;o<L.Outputs.length;o++)if("Dynamic"==L.Outputs[o].ResponseType){r=!0;break}if(1==r)x.OutputStat.push({FieldID:"Dynamic",Count:1,DynamicData:e});else if(e.length==L.Outputs.length)for(var i=context[$w.pageScript].qafControls,a=L.Outputs.length,l=0;l<a;l++){var s=L.Outputs[l],u=e[l],c=u.RES_FIELD_ID,f=u.RES_DAT;if("Form"==s.ResponseType)if(f.length)x.OutputStat.push({FieldID:c,Count:0}),n='"{0}" Form Output Mapping 확인 필요'.format(c),x.ErrorText.push(n),$l.eventLog("$w.transaction",n,"Error");else if(1==$reflection.isObjectEmpty(f))x.OutputStat.push({FieldID:c,Count:0});else for(var d in x.OutputStat.push({FieldID:c,Count:1}),s.Items){var g=s.Items[d],p=d,h=f[g.FieldID];if(null!=h&&i&&0<i.length)if(1==(S=i.filter(function(e){return e.field==p&&e.formDataFieldID==s.DataFieldID})).length){var v=null;if(0<(E=(w=S[0]).module.split(".")).length)for(o=0;o<E.length;o++){var m=E[o];v=v?v[m]:context[m]}else v=context[w.module];v.setValue(w.id,h,g)}else{var D=!1;if($this.$data&&0<$this.$data.storeList.length)for(var $=0;$<$this.$data.storeList.length;$++){if("Form"==(y=$this.$data.storeList[$]).storeType&&y.dataSourceID==s.DataFieldID){D=!0,1==(S=y.columns.filter(function(e){return e.data==p})).length&&($this.store[y.dataSourceID][p]=h);break}}0==D&&(n='"{0}" Form Output Mapping 확인 필요'.format(p),x.ErrorText.push(n),$l.eventLog("$w.transaction",n,"Error"))}}else if("Grid"==s.ResponseType)if(f.length&&0<f.length){x.OutputStat.push({FieldID:c,Count:f.length});p=s.DataFieldID;if(i&&0<i.length)if(1==(S=i.filter(function(e){return e.field==p})).length){v=null;if(0<(E=(w=S[0]).module.split(".")).length)for(o=0;o<E.length;o++){m=E[o];v=v?v[m]:context[m]}else v=context[w.module];v.setValue(w.id,f,s.Items)}else{D=!1;if($this.$data&&0<$this.$data.storeList.length)for($=0;$<$this.$data.storeList.length;$++){var y;if("Grid"==(y=$this.$data.storeList[$]).storeType&&y.dataSourceID==s.DataFieldID){D=!0;var C=$this.$data.bindingList.filter(function(e){return e.dataSourceID==y.dataSourceID&&"grid"==e.controlType}),T=f.length;for(o=0;o<T;o++)f[o].Flag="R";if(0<C.length)for(var b=0;b<C.length;b++){var I=C[b];$this.store[y.dataSourceID][I.dataFieldID]=f}else $this.store[y.dataSourceID]=f;break}}0==D&&(n='"{0}" Grid Output Mapping 확인 필요'.format(p),x.ErrorText.push(n),$l.eventLog("$w.transaction",n,"Error"))}}else x.OutputStat.push({FieldID:c,Count:0});else if("Chart"==s.ResponseType)if(f.length&&0<f.length){x.OutputStat.push({FieldID:c,Count:f.length});var S;p=s.DataFieldID;if(i&&0<i.length)if(1==(S=i.filter(function(e){return e.field==p})).length){var w,E;v=null;if(0<(E=(w=S[0]).module.split(".")).length)for(o=0;o<E.length;o++){m=E[o];v=v?v[m]:context[m]}else v=context[w.module];v.setValue(w.id,f,s.Items)}else n='"{0}" Chart Output Mapping 확인 필요'.format(p),x.ErrorText.push(n),$l.eventLog("$w.transaction",n,"Error")}else x.OutputStat.push({FieldID:c,Count:0})}else n='"{0}" 기능의 거래 응답 정의와 데이터 갯수가 다릅니다'.format(L.FunctionID),x.ErrorText.push(n),$l.eventLog("$w.transaction",n,"Error");q&&q(x,t),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd()})}else errorText='"{0}" 거래 중복 또는 존재여부 확인 필요'.format(t),x.ErrorText.push(errorText),$l.eventLog("$w.transaction",errorText,"Error"),q&&q(x),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd()}else errorText="화면 매핑 정의 데이터가 없습니다",x.ErrorText.push(errorText),$l.eventLog("$w.transaction",errorText,"Error"),q&&q(x),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd()}catch(e){$l.eventLog("$w.transaction",e,"Error"),$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd()}},scrollToTop:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;0<e&&(context.requestAnimationFrame($w.scrollToTop),context.scrollTo(0,e-e/8))},setFavicon:function(e){var t=document.querySelector('link[rel="icon"]');if(t)t.href=e;else{var n=document.createElement("link");n.rel="icon",n.href=e,document.head.appendChild(n)}},fileDownload:function(e,t){var n="";if(t)n=t;else{var r=e.toString().match(/.*\/(.+?)\./);r&&1<r.length&&(n=r[1])}var o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",n),document.body.appendChild(o),o.click(),document.body.removeChild(o)},sleep:function(t){return new Promise(function(e){return setTimeout(e,t)})}}),qaf&&!qaf.Config&&(qaf.Config={}),context.$webform=context.$w=qaf.$w=context.$webform||$webform,1==isNodejs){var fs=require("fs"),path=require("path");if(process.env.QAF_CONFIG)qaf.Config=JSON.parse(process.env.QAF_CONFIG);else{var qafConfigPath=path.join(path.dirname(require.main.filename),"qaf.config.json");1==fs.existsSync(qafConfigPath)&&(qaf.Config=JSON.parse(fs.readFileSync(qafConfigPath,"utf8")),process.env.QAF_LogMinimumLevel=qaf.Config.LogMinimumLevel,process.env.QAF_FileLogBasePath=qaf.Config.FileLogBasePath,process.env.QAF_LocalStoragePath=qaf.Config.LocalStoragePath)}qaf.Config&&1==$string.isNullOrEmpty(qaf.Config.DataSourceFilePath)&&(qaf.Config.DataSourceFilePath=path.join(process.cwd(),"BusinessContract/Database/DataSource.xml")),delete $w.isPageLoad,delete $w.pageReadyTimeout,delete $w.eventAddReady,delete $w.eventRemoveReady,delete $w.moduleReadyIntervalID,delete $w.remainingReadyIntervalID,delete $w.remainingReadyCount,delete $w.defaultControlOptions,delete $w.initializeFormScript,delete $w.innerHTML,delete $w.innerText,delete $w.activeControl,delete $w.hasAutoFocus,delete $w.createTouchEvent,delete $w.contentLoaded,delete $w.addReadyCount,delete $w.removeReadyCount,delete $w.createSelection,delete $w.getTriggerOptions,delete $w.triggerAction,delete $w.transactionAction,delete $w.transaction,delete $w.scrollToTop,delete $w.setFavicon,delete $w.fileDownload,delete $w.sleep}else if(context.CefSharp){if(qaf.bindObjects=qaf.bindObjects||[],context.contextCreatedData){qaf.Config=context.contextCreatedData.Config;var contextData=$webform.argumentsExtend(context.contextCreatedData,{});delete contextData.Config,qaf.ContextData=contextData}if(1==CefSharp.IsObjectCached("bound")){var object={BindID:"bound",Success:!0};object.TypeName=bound.toString(),qaf.bindObjects.push(object)}}else{var pathname=location.pathname;if(0<pathname.split("/").length){var filename=pathname.split("/")[location.pathname.split("/").length-1];$webform.extend({pageScript:"$"+(-1<filename.indexOf(".")?filename.substring(0,filename.indexOf(".")):filename)})}$l.addEvent(context,"load",function(){var e=context[$w.pageScript];e&&e.windowLoad&&e.windowLoad()});var urlArgs="true"==$r.getCookie("qaf.iscache")?"":"?bust="+(new Date).getTime(),isAsyncLoad=!$b.isIE;globalThis.isLoadConfig=!1,window.qafConfig?(qaf.Config=$w.argumentsExtend(qafConfig,qaf.Config),window.qafConfig=void 0,globalThis.isLoadConfig=!0,$webform.contentLoaded()):$webform.loadJSON("/"+(window.qafConfigName||"qaf.config.json")+urlArgs,null,function(e,t){qaf.Config=$w.argumentsExtend(t,qaf.Config),globalThis.isLoadConfig=!0,$webform.contentLoaded()},null,isAsyncLoad)}}(globalThis),function(e){"use strict";var t=t||new baseCore,a=null;1==isNodejs||(a=window.document),t.extend({version:"1.0",params:[],path:1==isNodejs?"":location.pathname,query:function(e,t){return void 0===t&&(t=location.href),function(e){for(var t=(1==(e=e.split("?")).length?e[0]:e[1]).split("&"),n=null,r=0;r<t.length;r++)n=t[r].split("="),$r.params[n[0]]=n[1];return n=t=e=null,$r.params}(t)[e]},toQueryString:function(e){return e?Object.entries(e).reduce(function(e,t,n){var r=t[0],o=t[1];return e+="string"==typeof o?"&"+r+"="+o:""},""):""},toUrlObject:function(e){return(e.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce(function(e,t){return e[t.slice(0,t.indexOf("="))]=t.slice(t.indexOf("=")+1),e},{})},isCorsEnabled:function(e){var t=new $w.xmlHttp;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&t.status<=299},createBlobUrl:globalThis.URL&&URL.createObjectURL&&URL.createObjectURL.bind(URL)||globalThis.webkitURL&&webkitURL.createObjectURL&&webkitURL.createObjectURL.bind(webkitURL)||globalThis.createObjectURL,revokeBlobUrl:globalThis.URL&&URL.revokeObjectURL&&URL.revokeObjectURL.bind(URL)||globalThis.webkitURL&&webkitURL.revokeObjectURL&&webkitURL.revokeObjectURL.bind(webkitURL)||globalThis.revokeObjectURL,blobToDataUri:function(e,t){if(null!=t&&null!=t){var n=new FileReader;n.onloadend=function(){var e=n.result;t(e)},n.onerror=function(){$l.eventLog("$r.blobToDataUri",n.error,"Error"),n.abort()},n.readAsDataURL(e)}else $l.eventLog("$r.blobToDataUri","blob 결과 callback 확인 필요","Warning")},blobToDownload:function(e,t){if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=$r.createBlobUrl(e),r=a.createElement("a");r.href=n,r.download=t,$l.dispatchClick(r),setTimeout(function(){$r.revokeBlobUrl(n),r.remove&&r.remove()},100)}},blobUrlToData:function(e,t){if(null!=t&&null!=t){var n=new $w.xmlHttp;n.open("GET",e),n.responseType="blob",n.onload=function(){t(n.response)},n.onerror=function(){$l.eventLog("$r.blobUrlToData","url: {0}, status: {1}".format(e,n.statusText),"Warning")},n.send()}else $l.eventLog("$r.blobUrlToData","blob 결과 callback 확인 필요","Warning")},blobUrlToDataUri:function(n,r){if(null!=r&&null!=r){var e=new $w.xmlHttp;e.open("GET",n),e.responseType="blob",e.onload=function(){var t=new FileReader;t.onloadend=function(){var e=t.result;setTimeout(function(){$r.revokeBlobUrl(n)},25),r(null,e)},t.onerror=function(){$l.eventLog("$r.blobUrlToDataUri",t.error,"Error"),t.abort(),r(t.error.message,null)},t.readAsDataURL(e.response)},e.onerror=function(){$l.eventLog("$r.blobUrlToDataUri","url: {0}, status: {1}".format(n,e.statusText),"Warning"),r("url: {0}, status: {1}".format(n,e.statusText),null)},e.send()}else $l.eventLog("$r.blobUrlToDataUri","blob 결과 callback 확인 필요","Warning")},url:function(){var e=$r.path.split("?"),t="";for(var n in t=$r.path+(0<$r.path.length&&1<e.length?"&":"?"),this.params)"string"==typeof $r.params[n]&&(t+=escape(n)+"="+escape($r.params[n])+"&");return $b?1==$b.isIE&&(t+="&noCache="+(new Date).getTime()):"Microsoft Internet Explorer"===navigator.appName&&(t+="&noCache="+(new Date).getTime()),this.params=[],t.substring(0,t.length-1)},getCookie:function(e){var t=a.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie:function(e,t,n,r,o,i){return null!=n&&null!=n||(n=new Date((new Date).getTime()+864e5)),null!=r&&null!=r||(r="/"),a.cookie=e+"="+escape(t)+(n?";expires="+n.toGMTString():"")+(r?";path="+r:"")+(o?";domain="+o:"")+(i?";secure":""),this},deleteCookie:function(e,t,n){return $r.getCookie(e)&&(a.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"),this}}),e.$request=e.$r=qaf.$r=e.$request||t}(globalThis),function(T){"use strict";T||(T=new baseCore);var i=null;1==isNodejs||(i=window.document),T.extend({method:"POST",setServiceObjectHeader:function(e){return this},setServiceClientHeader:function(e){var t=!0;e.setRequestHeader("User-CertKey","UUNOLkV4cGVydEFwcA==");try{return t}finally{t=null}return this},xmlParser:function(e){var t=null;if(globalThis.DOMParser)return(t=new globalThis.DOMParser).parseFromString(e,"text/xml");for(var n=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"],r=0;r<n.length&&((t=new ActiveXObject(n[r])).async=!1,t.setProperty("SelectionLanguage","XPath"),1!=t.loadXML(e));r++);return t},xmlHttp:function(){var e=null;if(globalThis.XMLHttpRequest)return e=new globalThis.XMLHttpRequest;for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length&&!(e=new ActiveXObject(t[n]));n++);return e},loadScript:function(e,t){var n,r;i.getElementsByTagName("head")||i.documentElement.insertBefore(i.createElement("head"),i.documentElement.firstChild),n=i.getElementsByTagName("head")[0],r=t||"id_"+$l.random();var o=i.createElement("script");return o.setAttribute("type","text/javascript"),o.setAttribute("src",e+"&noCache="+(new Date).getTime()),o.setAttribute("id",r),n.insertBefore(o,n.firstChild),this},loadStyle:function(e,t){var n,r;i.getElementsByTagName("head")||i.documentElement.insertBefore(i.createElement("head"),i.documentElement.firstChild),n=i.getElementsByTagName("head")[0],r=t||"id_"+$l.random();var o=i.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e+"&noCache="+(new Date).getTime()),o.setAttribute("id",r),n.appendChild(o),this},loadText:function(e,t){e=e;var n=$w.xmlHttp();n.open("get",e+"&noCache="+(new Date).getTime(),!0),n.onreadystatechange=function(){if(4===n.readyState){if(200!==n.status)return void(0==n.status?$l.eventLog("$w.loadText","X-Requested transfort error","Fatal"):$l.eventLog("$w.loadText","response status - {0}".format(n.statusText)+n.responseText,"Error"));t&&t(n.responseText)}},n.send()},serviceObject:function(e,t){var n="json";t&&(n=t);var r={};return r.RequestID=$l.guid(),r.ReturnType=n,r.ServiceID=e,r.NameValues=[],this.setServiceObjectHeader&&this.setServiceObjectHeader(r),n=null,r},transactionObject:function(e,t){var n="Json";t&&(n=t);var r={ProgramID:"",BusinessID:"",SystemID:"",TransactionID:"",DataTransactionInterface:null,TransactionResult:!0};return r.FunctionID=e,r.ScreenID="",r.RequestID=$l.guid(),r.ReturnType=n,r.ResultAlias=[],r.InputsItemCount=[],r.Inputs=[],this.setServiceObjectHeader&&this.setServiceObjectHeader(r),n=null,r},basicServiceClient:function(e,t,o,n,r){if(t){var i=JSON.stringify(t),a=this.xmlHttp();if(a.open(T.method,e,!0),a.setRequestHeader("Accept-Language",this.localeID),a.setRequestHeader("Accept-Charset","UTF-8"),void 0!==r&&a.setRequestHeader("User-Token",r),void 0!==n&&a.async&&(a.async=n,0==a.async))return a.setRequestHeader("X-Requested-With","QAF ServiceClient"),a.setRequestHeader("Content-Type","application/json"),a.send(i),a;a.onreadystatechange=function(){if(4===a.readyState){if(200!==a.status)return void(0==a.status?$l.eventLog("$w.serviceClient","X-Requested transfort error","Fatal"):$l.eventLog("$w.serviceClient","response status - {0}".format(a.statusText)+a.responseText,"Error"));var t="text",n="",r="";try{var e=JSON.parse(a.responseText);t=e.ReturnType,r=e.FunctionID,"error"===t&&(n=e.ExceptionText)}catch(e){t="error",n=e.toString(),0==r.length&&(r="Unknown FunctionID")}-1<t.indexOf("text")||-1<t.indexOf("json")?o&&o(a.responseText):-1<t.indexOf("xml")?o&&o(a.responseXML):alert("FunctionID : "+r+"\n"+n)}},a.setRequestHeader("X-Requested-With","QAF ServiceClient"),a.setRequestHeader("Content-Type","application/json"),a.send(i)}else alert("서비스 호출에 필요한 jsonObject가 구성되지 않았습니다.")},serviceClient:function(o,e,i,t,n){if(e){var r=JSON.stringify(e),a=this.xmlHttp();if(a.open(T.method,o,!0),a.setRequestHeader("Accept-Language",this.localeID),!this.setServiceClientHeader||0!=this.setServiceClientHeader(a)){if(void 0!==n&&a.setRequestHeader("User-Token",n),void 0!==t&&a.async&&(a.async=t,0==a.async))return a.setRequestHeader("X-Requested-With","QAF ServiceClient"),a.setRequestHeader("Content-Type","application/json"),a.send(r),a;a.onreadystatechange=function(){if(4===a.readyState){if(200!==a.status)return void(0==a.status?$l.eventLog("$w.serviceClient","X-Requested transfort error","Fatal"):$l.eventLog("$w.serviceClient","response status - {0}".format(a.statusText)+a.responseText,"Error"));try{if($w.clientTag&&"ROQKFWKTLFGODZNJFL"==$w.clientTag&&$w.serviceClientInterceptor&&!1===$w.serviceClientInterceptor(o,a))return}catch(e){return}var t="text",n="",r="";try{var e=JSON.parse(a.responseText);t=e.ReturnType,r=e.FunctionID,"error"===t&&(n=e.ExceptionText)}catch(e){t="error",n=e.toString(),0==r.length&&(r="Unknown FunctionID")}"warning"===t?$this.serviceClientException?$this.serviceClientException(o,e,a):alert("FunctionID : "+r+"\n"+e.Result):-1<t.indexOf("text")||-1<t.indexOf("json")?i&&i(e):-1<t.indexOf("xml")?i&&i(a.responseXML):($w.serviceClientException?!1===$w.serviceClientException(o,e,a)&&alert("FunctionID : "+r+"\n"+n):alert("FunctionID : "+r+"\n"+n),$this.serviceClientException&&$this.serviceClientException(o,e,a))}},a.setRequestHeader("X-Requested-With","QAF ServiceClient"),a.setRequestHeader("Content-Type","application/json"),a.send(r)}}else alert("서비스 호출에 필요한 거래정보가 구성되지 않았습니다.")},executeBindMethod:function(e,t,n,r){qaf.bindObjects=qaf.bindObjects||[];for(var o=null,i="",a=!1,l=qaf.bindObjects.length,s=0;s<l;s++){var u;if((u=qaf.bindObjects[s]).BindID==e){a=u.Success,i=u.Message;break}}1==a?(u=globalThis[e])[t]?o=(0,u[t])(n,r):$l.eventLog("qaf.bindObjects.{0} 메서드 정보 없음","{1}".format(e,t),"Error"):$l.eventLog("qaf.bindObjects 객체 정보 없음","{0} - {1}".format(e,i),"Error");return o},executeTransaction:function(p,h,v,e,t){if(!p||!h)return 0==isNodejs&&alert("서비스 호출에 필요한 거래 정보가 구성되지 않았습니다"),void $l.eventLog("$w.executeTransaction","서비스 호출에 필요한 거래 정보 확인 필요","Error");var n,r=null;if(1==isNodejs)(n=$w.getStorage("apiServices",!1))?(r=n[qaf.Config.Transaction.SystemID+qaf.Config.DomainServerType],null!=n.BearerToken&&null!=n.BearerToken||!globalThis.bearerToken||(n.BearerToken=globalThis.bearerToken,$w.setStorage("apiServices",n,!1))):null!=qaf.Config.DomainAPIServer?(r=qaf.Config.DomainAPIServer,n={},(t||globalThis.bearerToken)&&(n.BearerToken=t||globalThis.bearerToken),n[qaf.Config.Transaction.SystemID+qaf.Config.DomainServerType]=r,$w.setStorage("apiServices",n,!1),$l.eventLog("$w.executeTransaction","apiService 확인 필요 systemApi: {0}".format(JSON.stringify(r)),"Debug")):$l.eventLog("$w.executeTransaction","서비스 호출에 필요한 BP 정보가 구성되지 확인 필요","Error");else if(-1<location.href.indexOf("qaf://")){h.SystemID=p.SystemID,h.TransactionID=p.TransactionID,h.ScreenID=p.ScreenID;$w.executeBindMethod("bound","executeTransaction",h,function(e){if(!$w.clientTag||!$w.serviceClientInterceptor||!1!==$w.serviceClientInterceptor($w.clientTag,C))try{var t=JSON.parse(e);if(1==t.Acknowledge){var n=[],r=t.MDO;if(null!=t.DAT.RES_OUTPUT&&0<t.DAT.RES_OUTPUT.length){t.DAT.RES_TX_MAP_ID;for(var o=t.DAT.RES_OUTPUT,i=o.length,a=0;a<i;a++){var l=o[a];n.push({RES_FIELD_ID:l.RES_FIELD_ID,RES_DAT:l.RES_DAT})}}if(v){var s={};if(r.ADI_MSG)for(a=0;a<r.ADI_MSG.length;a++){var u=r.ADI_MSG[a];s[u.ADI_MSG_CD]?0==isNaN(parseInt(s[u.ADI_MSG_CD]))?s[u.ADI_MSG_CD]=parseInt(s[u.ADI_MSG_CD])+parseInt(u.ADI_MSG_TXT):$l.eventLog("$w.executeTransaction.addtionalData",'"{0}" 추가 데이터 중복 확인 필요'.format(u.ADI_MSG_CD),"Warning"):s[u.ADI_MSG_CD]=u.ADI_MSG_TXT}v(n,s)}}else{var c=t.ExceptionText,f="거래: {0}, 기능: {1} 수행중 예외가 발생하였습니다".format(h.TransactionID,h.FunctionID);$w.serviceClientException&&$w.serviceClientException("요청오류",f,c),$l.eventLog("$w.executeTransaction",c,"Error"),$this&&$this.frameEvent&&$this.frameEvent("transactionException",{transactionID:h.TransactionID,functionID:h.FunctionID,errorText:c,errorMessage:f})}}catch(e){f="거래: {0}, 기능: {1} 수행중 오류가 발생하였습니다".format(h.TransactionID,h.FunctionID);$w.serviceClientException&&$w.serviceClientException("오류",f,e.stack),$l.eventLog("$w.executeTransaction",e,"Error"),$this&&$this.frameEvent&&$this.frameEvent("transactionError",{transactionID:h.TransactionID,functionID:h.FunctionID,errorText:e.message,errorMessage:f})}});return}if((n=$w.getStorage("apiServices",!1))&&(r=n[qaf.Config.Transaction.SystemID+qaf.Config.DomainServerType]),null==r)$l.eventLog("$w.executeTransaction","apiService 확인 필요","Fatal");else{if(r.ExceptionText)return void $l.eventLog("$w.executeTransaction","apiService 확인 필요 SystemID: {0}, ServerType: {1}, Message: {2}".format(p.SystemID,qaf.Config.DomainServerType,r.ExceptionText),"Fatal");var o="";o=r.Port&&""!=r.Port?"{0}://{1}:{2}{3}".format(r.Protocol,r.IP,r.Port,r.Path):"{0}://{1}{2}".format(r.Protocol,r.IP,r.Path);var i=$date.toString(new Date,"f"),a="".concat(p.ProgramID,p.BusinessID,h.TransactionID,h.FunctionID,qaf.Config.Transaction.RunningEnvironment,i,$l.random(3)).toUpperCase(),l="";l=r.RequestID?r.RequestID:a;var m={AccessTokenID:n.BearerToken,Action:"REPLY",ClientTag:"".concat(qaf.Config.Transaction.SystemCode,"|",qaf.Config.Transaction.MachineName,"|",qaf.Config.Program.ProgramVersion),LoadOptions:[],RequestID:a,Version:qaf.Config.Transaction.ProtocolVersion,SH:{CLNT_IPAD:r.ClientIP,CLNT_MAC:"",ENV_INF_DSCD:qaf.Config.Transaction.RunningEnvironment,FST_TLM_REQ_DTM:r.CreateDateTime||i,FST_TMS_SYS_CD:qaf.Config.Transaction.SystemCode,GLBL_ID:l,GLBL_ID_PRG_SRNO:1,INTF_ID:qaf.Config.Transaction.SystemInterfaceID,LANG_DSCD:qaf.Config.Program.LanguageID,MD_KDCD:qaf.Config.Transaction.MachineTypeID,TLM_ENCY_DSCD:qaf.Config.Transaction.DataEncryptionYN,TLM_REQ_DTM:i},TH:{BIZ_ID:p.BusinessID,EXNK_DSCD:1==isNodejs?"AP":null==navigator.connection?"":navigator.connection.effectiveType,FUNC_CD:h.FunctionID,DAT_FMT:qaf.Config.Transaction.DataFormat,LQTY_DAT_PRC_DIS:"N",MSK_NTGT_TRN_YN:"Y",OPR_NO:1==isNodejs?"AP":$w.SSO?$w.SSO.UserID:"",PGM_ID:p.ProgramID,RLPE_SQCN:1,SMLT_TRN_DSCD:"N",TRM_BRNO:qaf.Config.Program.TerminalBranchCode,TRN_CD:h.TransactionID,TRN_SCRN_CD:h.ScreenID,CRYPTO_DSCD:qaf.Config.Transaction.CryptoCode||"P",CRYPTO_KEY:qaf.Config.Transaction.CryptoCKey||""},TCI:[],DTI:null,DAT:{REQ_INPUT:[],REQ_INPUTDATA:[],REQ_INPUT_CNT:[],REQ_TX_MAP_ID:""}};if(p.Transactions){var s=p.Transactions.filter(function(e){return e.FunctionID==h.FunctionID});if(1==s.length){var u=s[0],c=u.Inputs.map(function(e){return e.RequestType}).join(","),f=u.Outputs.map(function(e){return e.ResponseType}).join(",");m.DTI="{0}|{1}".format(c,f)}}else h.DataTransactionInterface&&(m.DTI=h.DataTransactionInterface);if("J"!=m.TH.DAT_FMT&&"T"!=m.TH.DAT_FMT)throw $l.eventLog("$w.executeTransaction","TH.DAT_FMT 확인 필요: {0}".format(m.TH.DAT_FMT),"Error"),new Error("TH.DAT_FMT 확인 필요: {0}".format(m.TH.DAT_FMT));m.DAT.REQ_INPUT_CNT=h.InputsItemCount,m.DAT.REQ_INPUT=[],m.DAT.REQ_INPUTDATA=[];for(var d=h.Inputs.length,g=0;g<d;g++){c=h.Inputs[g];for(var D=[],$=0;$<c.length;$++){var y=c[$];D.push({REQ_FIELD_ID:y.prop,REQ_FIELD_DAT:y.val})}"C"==m.TH.CRYPTO_DSCD?"J"==m.TH.DAT_FMT?m.DAT.REQ_INPUTDATA.push($c.LZString.compressToBase64(JSON.stringify(D))):m.DAT.REQ_INPUTDATA.push($c.LZString.compressToBase64($object.toCSV(D,{delimeter:"｜",newline:"↵"}))):"J"==m.TH.DAT_FMT?m.DAT.REQ_INPUT.push(D):m.DAT.REQ_INPUTDATA.push($object.toCSV(D,{delimeter:"｜",newline:"↵"}))}var C=$w.xmlHttp();if(C.open(T.method,o,!0),C.setRequestHeader("Accept-Language",$w.localeID),C.setRequestHeader("Server-SystemID",p.SystemID),C.setRequestHeader("Server-BusinessID",p.BusinessID),$w.setServiceClientHeader&&0==$w.setServiceClientHeader(C))return;if(void 0!==e&&1==C.async&&(C.async=e,0==C.async))return C.setRequestHeader("X-Requested-With","QAF ServiceClient"),C.setRequestHeader("Content-Type","qrame/json-transact"),C.send(m),C;C.onreadystatechange=function(){if(4===C.readyState){if(200!==C.status)return 0==C.status?$l.eventLog("$w.executeTransaction","X-Requested transfort error","Fatal"):$l.eventLog("$w.executeTransaction","response status - {0}".format(C.statusText)+C.responseText,"Error"),void($w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd());if($w.clientTag&&$w.serviceClientInterceptor&&!1===$w.serviceClientInterceptor($w.clientTag,C))return;try{var e=JSON.parse(C.responseText);if(1==h.TransactionResult)if(1==e.Acknowledge){var t=[],n=e.MDO;if(null!=e.DAT.RES_OUTPUT&&0<e.DAT.RES_OUTPUT.length){e.DAT.RES_TX_MAP_ID;for(var r=(g=e.DAT.RES_OUTPUT).length,o=0;o<r;o++){var i=g[o];if("J"==e.TH.DAT_FMT)"C"==e.TH.CRYPTO_DSCD?t.push({RES_FIELD_ID:i.RES_FIELD_ID,RES_DAT:JSON.parse($c.LZString.decompressFromBase64(i.RES_DAT))}):t.push({RES_FIELD_ID:i.RES_FIELD_ID,RES_DAT:i.RES_DAT});else if(p.Transactions){var a=p.Transactions.find(function(e){return e.FunctionID==h.FunctionID});if(a){var l=null;if(0==$ref.isEmpty(i.RES_DAT)){l="C"==e.TH.CRYPTO_DSCD?$c.LZString.decompressFromBase64(i.RES_DAT).split("＾"):i.RES_DAT.split("＾");var s=$string.toParameterObject(l[0]);l=$string.toJSON(l[1],{delimeter:"｜",newline:"↵",meta:s}),"Form"==a.Outputs[o].ResponseType&&(l=l[0])}t.push({RES_FIELD_ID:i.RES_FIELD_ID,RES_DAT:l})}}else{l="C"==e.TH.CRYPTO_DSCD?$c.LZString.decompressFromBase64(i.RES_DAT).split("＾"):i.RES_DAT.split("＾"),s=$string.toParameterObject(l[0]);l=$string.toJSON(l[1],{delimeter:"｜",newline:"↵",meta:s}),t.push({RES_FIELD_ID:i.RES_FIELD_ID,RES_DAT:l})}}}if(v){var u={};if(n.ADI_MSG)for(o=0;o<n.ADI_MSG.length;o++){var c=n.ADI_MSG[o];u[c.ADI_MSG_CD]?0==isNaN(parseInt(u[c.ADI_MSG_CD]))?u[c.ADI_MSG_CD]=parseInt(u[c.ADI_MSG_CD])+parseInt(c.ADI_MSG_TXT):$l.eventLog("$w.executeTransaction.addtionalData",'"{0}" 추가 데이터 중복 확인 필요'.format(c.ADI_MSG_CD)):u[c.ADI_MSG_CD]=c.ADI_MSG_TXT}try{v(t,u)}catch(e){$l.eventLog("$w.executeTransaction callback",e,"Error")}}}else{var f=e.ExceptionText,d="거래: {0}, 기능: {1} 수행중 예외가 발생하였습니다".format(m.TH.TRN_CD,m.TH.FUNC_CD);if($w.serviceClientException&&$w.serviceClientException("요청오류",d,f),$l.eventLog("$w.executeTransaction",f,"Warning"),0==isNodejs)$this&&$this.frameEvent&&$this.frameEvent("transactionException",{transactionID:m.TH.TRN_CD,functionID:m.TH.FUNC_CD,errorText:f,errorMessage:d});else if(v)try{v([],null)}catch(e){$l.eventLog("$w.executeTransaction callback",e,"Error")}}else if(v){if(1==e.Acknowledge)try{n=e.MDO;if(null!=e.DAT.RES_OUTPUT&&0<e.DAT.RES_OUTPUT.length){var g;for(e.DAT.RES_TX_MAP_ID,r=(g=e.DAT.RES_OUTPUT).length,o=0;o<r;o++){i=g[o];"J"==e.TH.DAT_FMT?"C"==e.TH.CRYPTO_DSCD&&(i.RES_DAT=JSON.parse($c.LZString.decompressFromBase64(i.RES_DAT))):i.RES_DAT="C"==e.TH.CRYPTO_DSCD?$c.LZString.decompressFromBase64(i.RES_DAT):i.RES_DAT}}}catch(e){$l.eventLog("$w.executeTransaction",e,"Error")}try{v(e)}catch(e){$l.eventLog("$w.executeTransaction callback",e,"Error")}}}catch(e){d="거래: {0}, 기능: {1} 수행중 오류가 발생하였습니다".format(m.TH.TRN_CD,m.TH.FUNC_CD);if($w.serviceClientException&&$w.serviceClientException("오류",d,e.stack),$l.eventLog("$w.executeTransaction",e,"Error"),0==isNodejs)$this&&$this.frameEvent&&$this.frameEvent("transactionError",{transactionID:m.TH.TRN_CD,functionID:m.TH.FUNC_CD,errorText:e.message,errorMessage:d});else if(v)try{v([],null)}catch(e){$l.eventLog("$w.executeTransaction callback",e,"Error")}}$w.domainTransactionLoaderEnd&&$w.domainTransactionLoaderEnd()}},C.setRequestHeader("X-Requested-With","QAF ServiceClient"),C.setRequestHeader("Content-Type","qrame/json-transact"),C.timeout=qaf.Config.TransactionTimeout,C.send(JSON.stringify(m))}}})}(qaf.$webform||qaf.$w),function(e){if(!e)throw new Error("$res 리소스 객체가 없습니다.");e.add("localeID","ko-KR"),e.add("progress","진행 중입니다."),e.add("appendTo","신규 입력 상태입니다."),e.add("appendPre","화면 구성 중..."),e.add("retrieve","정상적으로 조회되었습니다."),e.add("retrieveException","데이터를 조회하는 과정에서 문제가 발생하였습니다."),e.add("retrievePre","데이터 조회 중..."),e.add("save","정상적으로 저장되었습니다."),e.add("saveException","데이터를 저장하는 과정에서 문제가 발생하였습니다."),e.add("savePre","저장 중..."),e.add("update","정상적으로 수정되었습니다."),e.add("updateException","데이터를 수정하는 과정에서 문제가 발생하였습니다."),e.add("updatePre","수정 중..."),e.add("remove","정상적으로 삭제되었습니다."),e.add("removeException","데이터를 삭제하는 과정에서 문제가 발생하였습니다."),e.add("removePre","삭제 중..."),e.add("copyAppend","기존 데이터를 복사하여 입력 상태로 전환했습니다."),e.add("userInfoNothing","사용자 정보에 문제가 발생했습니다."),e.add("isLogOut","정말로 로그아웃 하시겠습니까?"),e.add("waiting","잠시만 기다려주세요..."),e.add("notElemnet","컨트롤이 발견되지 않았습니다. 쿼리나 HTML 디자인을 살펴보세요"),e.add("dualElemnet",'"{0}"의 아이디는 현재 페이지에서 중복된 이름 또는 아이디의 컨트롤로 발견되었습니다.'),e.add("requiredKeyData","필수 입력 항목 오류"),e.add("requiredInsertData","아래 항목은 필수 입력 항목입니다."),e.add("errorMessage","에러가 발생했습니다."),e.add("serverErrorMessage","서버에서 에러가 발생했습니다."),e.add("initialComplete","화면 구성 완료"),e.add("initialException","화면 구성 실패"),e.add("isDateTimeInsert",'"{0}" 포맷의 날짜와 시간을 입력해야 합니다.'),e.add("isDateInsert",'"{0}" 포맷의 날짜를 입력해야 합니다.'),e.add("isTimeInsert",'"{0}" 포맷의 시간을 입력해야 합니다.'),e.add("isNumericInsert","숫자를 입력해야 합니다."),e.add("forceSave","편집중인 데이터를 저장하시겠습니까?"),e.add("textMaxLength",'입력 가능한 "{0}"자리수를 넘었습니다'),e.add("create","입력"),e.add("read","조회"),e.add("find","검색"),e.add("update","수정"),e.add("delele","삭제"),e.add("removeStatusNo","삭제 가능한 상태가 아닙니다. 데이터를 조회한 후 삭제 해야 합니다."),e.add("removeConfirm","정말로 삭제 하시겠습니까?"),e.add("notData","데이터가 없습니다."),e.add("notCondData","입력하신 조건에 맞는 데이터가 없습니다."),e.add("notRetrieveCond","조회에 필요한 항목이 입력되지 않았습니다."),e.add("notDateBetween","기간이 올바르게 설정되지 않았습니다."),e.add("notDate","정확한 날짜를 입력 하거나 선택해야 합니다."),e.add("notFindCond","검색에 필요한 문장을 입력해야 합니다. 정확한 검색을 위해 두글자 이상 입력해야 합니다."),e.add("selectData","데이터를 선택해야 합니다."),e.add("selectAll","전체"),e.add("saveExcel","엑셀 다운로드 중입니다."),e.add("saveExcelComplete","엑셀 파일을 다운로드 했습니다."),e.add("saveExcelFail","엑셀 파일 다운로드를 실패 했습니다"),e.add("notSupportContent","지원 하지 않는 컨텐츠 타입입니다."),e.add("notLoginID","로그인ID는 반드시 입력해야 합니다."),e.add("notPassword","비밀번호는 반드시 입력해야 합니다."),e.add("notLogin","아이디 또는 비밀번호가 잘못되었습니다."),e.add("loginLockedOut",'로그인 인증이 지정된 횟수 이상 잘못 되어, "{0}" 계정을 잠김 상태로 변경되었습니다. 담당자에게 문의하세요.'),e.add("alreadyLogged","입력 하신 계정은 이미 로그인 되어 있습니다. 계속 진행하시면 기존 로그인 계정은 로그아웃됩니다. 계속하시겠습니까?")}(globalThis.$res||qaf.$resource),function(e){var t=t||new baseCore;t.extend({version:"1.0",getDataSource:function(e,o,i){if(!i)throw new Error("callback 함수 정의 필요");try{var t=qaf.getModuleLibrary(e);if(t){var a=t.config,n=require("fs"),r=require("xml2js");if(1==n.existsSync(qaf.Config.DataSourceFilePath)){var l=new r.Parser({explicitArray:!1});n.readFile(qaf.Config.DataSourceFilePath,function(e,t){l.parseString(t,function(e,t){if(e)i(e,null);else{var n=t.NewDataSet.DataSource;if(0==$ref.isArray(n))n.DataSourceID===o&&n.ApplicationID===a.ApplicationID&&-1<n.ProjectID.split(",").indexOf(a.ProjectID)&&i(null,{connectionString:n.ConnectionString,provider:n.DataProvider});else{var r=n.find(function(e){return e.DataSourceID==o&&e.ApplicationID===a.ApplicationID&&-1<e.ProjectID.split(",").indexOf(a.ProjectID)});r&&i(null,{connectionString:r.ConnectionString,provider:r.DataProvider})}}})})}else i("DataSource 설정 파일 경로 확인 필요",null)}else i("ModuleID 확인 필요",null)}catch(e){i(e,null)}},getStatement:function(e,t,n){var r=null,o=qaf.getModuleLibrary(e);if(!o)throw new Error("ModuleID 확인 필요");try{var i=o.featureSQLPath;if(!i||1!=fs.existsSync(i))throw $l.eventLog("getStatement","featureSQLPath - {0} 확인 필요".format(i),"Fatal"),new Error("featureSQLPath 확인 필요");var a=require("mybatis-mapper");a.createMapper([i]),a.featureSQLPath=i,r=a.getStatement("feature",t,n)}catch(e){throw $l.eventLog("getStatement",e,"Fatal"),e}return r},executeQuery:function(r,o,i,a){var e=qaf.getModuleLibrary(r);if(e){var t=e.config;$s.getDataSource(r,t.DataSourceID,function(e,t){if(e)a&&a(e,null);else{var n=require("mssql");n.connect(t.connectionString,function(e){if(e)a&&a(e,null);else{var t="";try{t=(t=$s.getStatement(r,o,i)).replace(/\\\"/g,'"')}catch(e){return void a(e,null)}a?n.query(t,function(e,t){e?a(e,null):a(null,t)}):n.query(t)}})}})}else a("ModuleID 확인 필요",null)}}),e.$system=e.$s=qaf.$s=e.$system||t}(globalThis),1==isNodejs){var fs=require("fs"),path=require("path"),crypto=require("crypto");if("undefined"==typeof localStorage||null===localStorage){var LocalStorage=require("node-localstorage").LocalStorage;globalThis.localStorage=new LocalStorage(process.env.QAF_LocalStoragePath)}var moduleLogDirectory=path.join(process.env.QAF_FileLogBasePath,qaf.Config.ApplicationID,qaf.Config.ProjectID);0==fs.existsSync(moduleLogDirectory)&&fs.mkdirSync(moduleLogDirectory,{recursive:!0});var options={logDirectory:moduleLogDirectory,fileNamePattern:"{0}_{1}_<DATE>.log".format(qaf.Config.ApplicationID,qaf.Config.ProjectID),dateFormat:"YYYYMMDD"},logger=require("simple-node-logger").createRollingFileLogger(options);logger.setLevel(process.env.QAF_LogMinimumLevel),globalThis.$logger=logger,qaf&&!qaf.initializeModuleScript&&(qaf.initializeModuleScript=function(moduleFileName){var result=null;if(moduleFileName)try{var fileDirectory=path.dirname(moduleFileName),fileDirectoryName=fileDirectory.split(path.sep).pop(),modulePaths=fileDirectory.split(path.sep),pathLength=modulePaths.length,moduleID="{0}|{1}|{2}".format(modulePaths[pathLength-3],modulePaths[pathLength-2],modulePaths[pathLength-1]);moduleID=crypto.createHash("sha1").update(moduleID).digest("hex");var functionModule=qaf.functionModules[moduleID];if(null==functionModule){functionModule={path:fileDirectory,config:eval("("+fs.readFileSync(moduleFileName.replace("featureMain.js","featureMeta.json"),"utf8")+")").Header,featureSQLPath:null,logger:null};var featureSQLPath=path.join(fileDirectory,"featureSQL.xml");1==fs.existsSync(featureSQLPath)&&(functionModule.featureSQLPath=featureSQLPath);var moduleLogDirectory=path.join(process.env.QAF_FileLogBasePath,functionModule.config.ApplicationID,functionModule.config.ProjectID,fileDirectoryName);0==fs.existsSync(moduleLogDirectory)&&fs.mkdirSync(moduleLogDirectory,{recursive:!0});var options={logDirectory:moduleLogDirectory,fileNamePattern:"{0}_<DATE>.log".format(fileDirectoryName),dateFormat:"YYYYMMDD"},logger=require("simple-node-logger").createRollingFileLogger(options);logger.setLevel(process.env.QAF_LogMinimumLevel),functionModule.logger=logger,qaf.functionModules[moduleID]=functionModule,result=moduleID}else result=moduleID}catch(e){console.log(e)}else console.log(moduleFileName+" 모듈 확인 필요");return result}),qaf&&!qaf.getModuleLibrary&&(qaf.getModuleLibrary=function(e){return qaf.functionModules[e]}),globalThis.XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,qaf.functionModules={},module.exports=qaf}